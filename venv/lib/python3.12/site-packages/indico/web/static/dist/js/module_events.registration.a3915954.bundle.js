(self.webpackChunk=self.webpackChunk||[]).push([[5462],{92130:(e,t,i)=>{"use strict";var n=i(86326),a=i(35623),r=(i(42383),i(29079)),s=i(97598),l=i.n(s),o=i(96478),d=i(99323),c=i(23507),m=i(33864),u=i(89152),_=i(59865),p=i(49528);function g(e){let{metadataURL:t,previewURL:i,sendURL:a,onClose:r}=e;const[s,l]=(0,n.useState)(0),{data:o,loading:g}=(0,_.Ku)(t),{senders:f=[],recipients:y=[],subject:b,body:v,placeholders:h=[]}=o||{};return g?n.createElement(d.A,{active:!0,page:!0,inverted:!0},n.createElement(c.A,null)):n.createElement(m.V,{onSubmit:async e=>{let t;try{t=await p.indicoAxios.post(a,e)}catch(e){return(0,u.handleSubmitError)(e)}l(t.data.count),setTimeout((()=>r()),5e3)},onClose:r,senders:f,recipients:y,previewURL:i,placeholders:h,initialFormValues:{subject:b,body:v},sentEmailsCount:s})}g.propTypes={metadataURL:l().string.isRequired,previewURL:l().string.isRequired,sendURL:l().string.isRequired,onClose:l().func.isRequired};const f=r.Ay.bind(null,{endpoint:"event_registration.api_invitations_reminders_metadata",rules:[{args:["event_id","reg_form_id"],converters:{event_id:"IntegerConverter",reg_form_id:"IntegerConverter"},defaults:{},trace:[{data:"|",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"api",isDynamic:!1},{data:"/",isDynamic:!1},{data:"registration",isDynamic:!1},{data:"/",isDynamic:!1},{data:"reg_form_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"invitations",isDynamic:!1},{data:"/",isDynamic:!1},{data:"reminders",isDynamic:!1},{data:"/",isDynamic:!1},{data:"metadata",isDynamic:!1}]}]},"/"),y=r.Ay.bind(null,{endpoint:"event_registration.api_invitations_reminders_preview",rules:[{args:["event_id","reg_form_id"],converters:{event_id:"IntegerConverter",reg_form_id:"IntegerConverter"},defaults:{},trace:[{data:"|",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"api",isDynamic:!1},{data:"/",isDynamic:!1},{data:"registration",isDynamic:!1},{data:"/",isDynamic:!1},{data:"reg_form_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"invitations",isDynamic:!1},{data:"/",isDynamic:!1},{data:"reminders",isDynamic:!1},{data:"/",isDynamic:!1},{data:"preview",isDynamic:!1}]}]},"/"),b=r.Ay.bind(null,{endpoint:"event_registration.api_invitations_reminders_send",rules:[{args:["event_id","reg_form_id"],converters:{event_id:"IntegerConverter",reg_form_id:"IntegerConverter"},defaults:{},trace:[{data:"|",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"api",isDynamic:!1},{data:"/",isDynamic:!1},{data:"registration",isDynamic:!1},{data:"/",isDynamic:!1},{data:"reg_form_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"invitations",isDynamic:!1},{data:"/",isDynamic:!1},{data:"reminders",isDynamic:!1},{data:"/",isDynamic:!1},{data:"send",isDynamic:!1}]}]},"/");function v(e){let{eventId:t,regformId:i,hasPendingInvitations:a}=e;const[r,s]=(0,n.useState)(!1),l=f({event_id:t,reg_form_id:i}),d=y({event_id:t,reg_form_id:i}),c=b({event_id:t,reg_form_id:i});return n.createElement(n.Fragment,null,n.createElement("button",{type:"button",className:"i-button icon-mail",disabled:!a,onClick:()=>s(!0)},n.createElement(o.Translate,null,"Send reminders")),r&&n.createElement(g,{metadataURL:l,previewURL:d,sendURL:c,onClose:()=>s(!1)}))}v.propTypes={eventId:l().number.isRequired,regformId:l().number.isRequired,hasPendingInvitations:l().bool.isRequired},function(e){function t(e){let{eventId:t,regformId:i,hasPendingInvitations:r}=e;const s=document.getElementById("email-pending-invitations-container");a.render(n.createElement(v,{eventId:t,regformId:i,hasPendingInvitations:r}),s)}window.setupInvitationPage=function(e){let{eventId:i,regformId:n,hasPendingInvitations:a}=e;$("#invitation-list").on("indico:confirmed",".js-invitation-action",(function(e){e.preventDefault();const a=$(this);$.ajax({url:a.data("href"),method:a.data("method"),complete:IndicoUI.Dialogs.Util.progress(),error:handleAjaxError,success(e){$("#invitation-list").html(e.invitation_list),t({eventId:i,regformId:n,hasPendingInvitations:e.has_pending_invitations})}})})),$(".js-invite-user").ajaxDialog({onClose(e){e&&($("#invitation-list").html(e.invitation_list),t({eventId:i,regformId:n,hasPendingInvitations:e.has_pending_invitations}))}}),t({eventId:i,regformId:n,hasPendingInvitations:a})}}();var h=i(65035),D=i(25584);window.setupRegistrationList=function(){function e(){$("table.i-table input.select-row").on("change",(function(){$(".regform-download-attachments").toggleClass("disabled",!$(".list input:checkbox:checked[data-has-files=true]").length)})).trigger("change"),$("table.i-table input.select-row").on("change",(function(){$(".regform-download-documents").toggleClass("disabled",!$(".list input:checkbox:checked[data-has-documents=true]").length)})).trigger("change")}setupListGenerator(),$("body").on("click","#preview-email",(function(){const e=$(this);ajaxDialog({url:e.data("href"),title:D.$T.gettext("Email Preview"),method:"POST",data:()=>({registration_id:getSelectedRows()[0],subject:$("#subject").val(),body:$("#body").val()})})})),$(".registrations").on("indico:confirmed",".js-delete-registrations",(function(e){e.preventDefault();const t=$(this),i=getSelectedRows(),n=D.$T.ngettext("Do you really want to delete the selected registration?","Do you really want to delete the {0} selected registrations?",i.length).format(i.length);confirmPrompt(n).then((function(){$.ajax({url:t.data("href"),method:t.data("method"),data:{registration_id:i},complete:IndicoUI.Dialogs.Util.progress(),error:handleAjaxError,success(){for(let e=0;e<i.length;e++)$(`#registration-${i[e]}`).fadeOut("fast",(function(){$(this).remove()}))}})}))})),$(".registrations").on("indico:confirmed",".js-modify-status",(function(t){t.preventDefault();const i=$(this),n=getSelectedRows();$.ajax({url:i.data("href"),method:i.data("method"),data:{registration_id:n,flag:i.data("flag")},complete:IndicoUI.Dialogs.Util.progress(),error:handleAjaxError,success(t){t&&($(".list-content").html(t.html),handleSelectedRowHighlight(!0),e(),setupTableSorter())}})})),$(".js-add-user").on("click",(async()=>{const e=await(0,h.showUserSearch)({withExternalUsers:!0,single:!0,alwaysConfirm:!0});if(e){const t=$(".js-add-user").data("href");location.href=build_url(t,{user:e})}})),$(".js-add-multiple-users").ajaxDialog({dialogClasses:"add-multiple-users-dialog",onClose(t){t&&($(".list-content").html(t.html),handleSelectedRowHighlight(!0),e(),setupTableSorter())}}),e()};var E=i(47279),T=i(77940),w=i(43057),q=i(49138);const A=["publishToParticipants","publishToPublic","value","useFinalForms"],R=l().oneOf(["hide_all","show_with_consent","show_all"]);function O(e){let{publishToParticipants:t,publishToPublic:i,value:a,useFinalForms:r}=e,s=(0,w.A)(e,A);if("hide_all"===t&&"hide_all"===i)return n.createElement(o.Translate,null,"Your participation will only be visible to organizers of this event.");if("show_all"===t&&"hide_all"===i)return n.createElement(o.Translate,null,"Your participation will be displayed to other participants of this event.");if("show_all"===t&&"show_all"===i)return n.createElement(o.Translate,null,"Your participation will be displayed to everyone who can see this event.");{const e=[];return"show_with_consent"!==t&&"nobody"!==a||e.push({key:"nobody",value:"nobody",text:o.Translate.string("Do not display my participation to anyone"),disabled:"show_with_consent"!==t}),e.push({key:"participants",value:"participants",text:o.Translate.string("Display my participation only to other participants of this event")}),"show_with_consent"!==i&&"all"!==a||e.push({key:"all",value:"all",text:o.Translate.string("Display my participation to everyone who can see this event"),disabled:"show_with_consent"!==i}),r?n.createElement(u.FinalDropdown,(0,T.A)({options:e,selection:!0,required:!0,fluid:!0},s)):n.createElement(q.A,(0,T.A)({options:e,selection:!0,fluid:!0,value:a},s))}}O.propTypes={publishToParticipants:R.isRequired,publishToPublic:R.isRequired,value:l().oneOf(["nobody","participants","all"]),useFinalForms:l().bool},O.defaultProps={value:null,useFinalForms:!1};const P=r.Ay.bind(null,{endpoint:"event_registration.api_registration_change_consent",rules:[{args:["event_id","reg_form_id"],converters:{event_id:"IntegerConverter",reg_form_id:"IntegerConverter"},defaults:{},trace:[{data:"|",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"api",isDynamic:!1},{data:"/",isDynamic:!1},{data:"registration",isDynamic:!1},{data:"/",isDynamic:!1},{data:"reg_form_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"privacy",isDynamic:!1},{data:"/",isDynamic:!1},{data:"consent",isDynamic:!1}]}]},"/");function C(e){let{locator:t,publishToParticipants:i,publishToPublic:a,initialConsentToPublish:r}=e;const[s,l]=(0,n.useState)(r),[o,d]=(0,n.useState)("");return n.createElement("div",{className:"events-registration-client-js-components-___ConsentToPublishEditor-module__consent-dropdown-container___0HGIs"},n.createElement(O,{publishToParticipants:i,publishToPublic:a,onChange:(e,i)=>{let{value:n}=i;return async function(e){l(e),d("loading");try{await p.indicoAxios.post(P(t),{consent_to_publish:e}),d("success")}catch(e){return d("error"),l(s),(0,p.handleAxiosError)(e)}}(n)},value:s,loading:"loading"===o,disabled:"loading"===o}),"success"===o&&n.createElement(E.A,{name:"check",color:"green"}),"error"===o&&n.createElement(E.A,{name:"x",color:"red"}))}C.propTypes={locator:l().object.isRequired,publishToParticipants:R.isRequired,publishToPublic:R.isRequired,initialConsentToPublish:l().oneOf(["nobody","participants","all"]).isRequired};var F=i(87493),x=i.n(F),I=i(61910),j=i.n(I),S=i(54219),k=i(45423),N=i(503),M=i(68820);const L=r.Ay.bind(null,{endpoint:"event_registration.api_registration_tags_assign",rules:[{args:["event_id","reg_form_id"],converters:{event_id:"IntegerConverter",reg_form_id:"IntegerConverter"},defaults:{},trace:[{data:"|",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"api",isDynamic:!1},{data:"/",isDynamic:!1},{data:"registration",isDynamic:!1},{data:"/",isDynamic:!1},{data:"reg_form_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"tags",isDynamic:!1},{data:"/",isDynamic:!1},{data:"assign",isDynamic:!1}]}]},"/");function U(e){let{eventId:t,regformId:i,registrationId:a,assignedTags:r,allTags:s}=e;const[l,d]=(0,n.useState)(r),[c,m]=(0,n.useState)(!1),u=j()(s,l,"id");async function _(e){let{add:n=[],remove:r=[]}=e;try{await p.indicoAxios.post(L({reg_form_id:i,event_id:t}),{registration_id:[a],add:n,remove:r})}catch(e){return(0,p.handleAxiosError)(e)}}const g=n.createElement(M.IButton,{disabled:0===u.length},n.createElement(o.Translate,null,"Add"),n.createElement(E.A,{name:"caret down",style:{marginRight:0}}));return n.createElement(n.Fragment,null,n.createElement("div",{className:"icon icon-tag"}),n.createElement("div",{className:"text"},n.createElement("div",{className:"label"},n.createElement(o.Translate,null,"Tags")),n.createElement("div",{className:"events-registration-client-js-components-___RegistrationTagsEditableList-module__removable-tags-container___C2Usb",style:{marginTop:0===l.length?"0":"3px"}},0===l.length?n.createElement(o.Translate,null,"No tags assigned."):l.map((e=>n.createElement(S.A,{size:"medium",key:e.title,className:"events-registration-client-js-components-___RegistrationTagsEditableList-module__registration-tag___nAtUC events-registration-client-js-components-___RegistrationTagsEditableList-module__removable___aNbCV",color:e.color},e.title,n.createElement(E.A,{name:"close",onClick:()=>function(e){d(l.filter((t=>t.id!==e.id))),_({remove:[e.id]})}(e)})))))),n.createElement("div",{className:"toolbar"},0===u.length?g:n.createElement(M.PopoverDropdownMenu,{onOpen:()=>m(!0),onClose:()=>m(!1),trigger:g,open:c,placement:"right-start"},n.createElement(k.A,{size:"small",textAlign:"center"},n.createElement(o.Translate,null,"Add tags")),n.createElement(N.A,{style:{margin:0}}),n.createElement("div",{className:"events-registration-client-js-components-___RegistrationTagsEditableList-module__selectable-tags-container___pwRX2"},u.map((e=>n.createElement("div",{key:e.title,onClick:()=>function(e){const t=x()([...l,e],[e=>e.title.toLowerCase()],"title");d(t),t.length===s.length&&m(!1),_({add:[e.id]})}(e)},n.createElement(S.A,{className:"events-registration-client-js-components-___RegistrationTagsEditableList-module__registration-tag___nAtUC events-registration-client-js-components-___RegistrationTagsEditableList-module__selectable___2VM7u",color:e.color},e.title))))))))}U.propTypes={eventId:l().number.isRequired,regformId:l().number.isRequired,registrationId:l().number.isRequired,assignedTags:l().arrayOf(l().shape({title:l().string.isRequired,color:l().string.isRequired})).isRequired,allTags:l().arrayOf(l().shape({title:l().string.isRequired,color:l().string.isRequired})).isRequired};var B=i(44515),Y=i(88996),z=i(36111),H=i(24372),V=i(45967);function J(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function G(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?J(Object(i),!0).forEach((function(t){(0,z.A)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):J(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const Z=e=>e.staticData,K=e=>e.sections,W=e=>e.items,Q=(0,V.Mz)(W,((e,t)=>t),((e,t)=>e[t])),X=(0,V.Mz)(Z,(e=>e.currency)),ee=(0,V.Mz)(K,(e=>x()(Object.values(e).filter((e=>e.enabled)),["position","id"]))),te=(0,V.Mz)(K,W,((e,t)=>{const i=new Map(Object.values(e).map((e=>[e.id,[]])));return x()(Object.values(t),["position","id"]).forEach((e=>{i.get(e.sectionId).push(e)})),i})),ie=(0,V.Mz)(ee,te,((e,t)=>e.map((e=>G(G({},e),{},{items:t.get(e.id)}))))),ne=e=>e.uiLocked,ae=(0,V.Mz)(K,(e=>x()(Object.values(e).filter((e=>!e.enabled)),["position","id"]))),re=(0,V.Mz)(K,((e,t)=>t),((e,t)=>e[t])),se=(0,V.Mz)(W,((e,t)=>t),((e,t)=>e[t].sectionId)),le=(0,V.Mz)(Q,(e=>"label"===e.inputType)),oe=(0,V.Mz)(le,(e=>(t,i)=>e?t:i)),de=(0,V.Mz)(Z,(e=>{const{eventId:t,regformId:i}=e;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const a={event_id:t,reg_form_id:i};return null!==e&&(a.section_id=e),null!==n&&(a.field_id=n),a}}));function ce(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function me(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(i),!0).forEach((function(t){(0,z.A)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ce(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const ue=r.Ay.bind(null,{endpoint:"event_registration.add_field",rules:[{args:["event_id","reg_form_id","section_id"],converters:{event_id:"IntegerConverter",reg_form_id:"IntegerConverter"},defaults:{},trace:[{data:"|",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"manage",isDynamic:!1},{data:"/",isDynamic:!1},{data:"registration",isDynamic:!1},{data:"/",isDynamic:!1},{data:"reg_form_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"form",isDynamic:!1},{data:"/",isDynamic:!1},{data:"sections",isDynamic:!1},{data:"/",isDynamic:!1},{data:"section_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"fields",isDynamic:!1}]}]},"/"),_e=r.Ay.bind(null,{endpoint:"event_registration.add_section",rules:[{args:["event_id","reg_form_id"],converters:{event_id:"IntegerConverter",reg_form_id:"IntegerConverter"},defaults:{},trace:[{data:"|",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"manage",isDynamic:!1},{data:"/",isDynamic:!1},{data:"registration",isDynamic:!1},{data:"/",isDynamic:!1},{data:"reg_form_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"form",isDynamic:!1},{data:"/",isDynamic:!1},{data:"sections",isDynamic:!1}]}]},"/"),pe=r.Ay.bind(null,{endpoint:"event_registration.add_text",rules:[{args:["event_id","reg_form_id","section_id"],converters:{event_id:"IntegerConverter",reg_form_id:"IntegerConverter"},defaults:{},trace:[{data:"|",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"manage",isDynamic:!1},{data:"/",isDynamic:!1},{data:"registration",isDynamic:!1},{data:"/",isDynamic:!1},{data:"reg_form_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"form",isDynamic:!1},{data:"/",isDynamic:!1},{data:"sections",isDynamic:!1},{data:"/",isDynamic:!1},{data:"section_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"text",isDynamic:!1}]}]},"/"),ge=r.Ay.bind(null,{endpoint:"event_registration.modify_field",rules:[{args:["event_id","field_id","reg_form_id","section_id"],converters:{event_id:"IntegerConverter",reg_form_id:"IntegerConverter"},defaults:{},trace:[{data:"|",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"manage",isDynamic:!1},{data:"/",isDynamic:!1},{data:"registration",isDynamic:!1},{data:"/",isDynamic:!1},{data:"reg_form_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"form",isDynamic:!1},{data:"/",isDynamic:!1},{data:"sections",isDynamic:!1},{data:"/",isDynamic:!1},{data:"section_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"fields",isDynamic:!1},{data:"/",isDynamic:!1},{data:"field_id",isDynamic:!0}]}]},"/"),fe=r.Ay.bind(null,{endpoint:"event_registration.modify_section",rules:[{args:["event_id","reg_form_id","section_id"],converters:{event_id:"IntegerConverter",reg_form_id:"IntegerConverter"},defaults:{},trace:[{data:"|",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"manage",isDynamic:!1},{data:"/",isDynamic:!1},{data:"registration",isDynamic:!1},{data:"/",isDynamic:!1},{data:"reg_form_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"form",isDynamic:!1},{data:"/",isDynamic:!1},{data:"sections",isDynamic:!1},{data:"/",isDynamic:!1},{data:"section_id",isDynamic:!0}]}]},"/"),ye=r.Ay.bind(null,{endpoint:"event_registration.modify_text",rules:[{args:["event_id","field_id","reg_form_id","section_id"],converters:{event_id:"IntegerConverter",reg_form_id:"IntegerConverter"},defaults:{},trace:[{data:"|",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"manage",isDynamic:!1},{data:"/",isDynamic:!1},{data:"registration",isDynamic:!1},{data:"/",isDynamic:!1},{data:"reg_form_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"form",isDynamic:!1},{data:"/",isDynamic:!1},{data:"sections",isDynamic:!1},{data:"/",isDynamic:!1},{data:"section_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"text",isDynamic:!1},{data:"/",isDynamic:!1},{data:"field_id",isDynamic:!0}]}]},"/"),be=r.Ay.bind(null,{endpoint:"event_registration.move_field",rules:[{args:["event_id","field_id","reg_form_id","section_id"],converters:{event_id:"IntegerConverter",reg_form_id:"IntegerConverter"},defaults:{},trace:[{data:"|",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"manage",isDynamic:!1},{data:"/",isDynamic:!1},{data:"registration",isDynamic:!1},{data:"/",isDynamic:!1},{data:"reg_form_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"form",isDynamic:!1},{data:"/",isDynamic:!1},{data:"sections",isDynamic:!1},{data:"/",isDynamic:!1},{data:"section_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"fields",isDynamic:!1},{data:"/",isDynamic:!1},{data:"field_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"move",isDynamic:!1}]}]},"/"),ve=r.Ay.bind(null,{endpoint:"event_registration.move_section",rules:[{args:["event_id","reg_form_id","section_id"],converters:{event_id:"IntegerConverter",reg_form_id:"IntegerConverter"},defaults:{},trace:[{data:"|",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"manage",isDynamic:!1},{data:"/",isDynamic:!1},{data:"registration",isDynamic:!1},{data:"/",isDynamic:!1},{data:"reg_form_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"form",isDynamic:!1},{data:"/",isDynamic:!1},{data:"sections",isDynamic:!1},{data:"/",isDynamic:!1},{data:"section_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"move",isDynamic:!1}]}]},"/"),he=r.Ay.bind(null,{endpoint:"event_registration.move_text",rules:[{args:["event_id","field_id","reg_form_id","section_id"],converters:{event_id:"IntegerConverter",reg_form_id:"IntegerConverter"},defaults:{},trace:[{data:"|",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"manage",isDynamic:!1},{data:"/",isDynamic:!1},{data:"registration",isDynamic:!1},{data:"/",isDynamic:!1},{data:"reg_form_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"form",isDynamic:!1},{data:"/",isDynamic:!1},{data:"sections",isDynamic:!1},{data:"/",isDynamic:!1},{data:"section_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"text",isDynamic:!1},{data:"/",isDynamic:!1},{data:"field_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"move",isDynamic:!1}]}]},"/"),De=r.Ay.bind(null,{endpoint:"event_registration.toggle_field",rules:[{args:["event_id","field_id","reg_form_id","section_id"],converters:{event_id:"IntegerConverter",reg_form_id:"IntegerConverter"},defaults:{},trace:[{data:"|",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"manage",isDynamic:!1},{data:"/",isDynamic:!1},{data:"registration",isDynamic:!1},{data:"/",isDynamic:!1},{data:"reg_form_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"form",isDynamic:!1},{data:"/",isDynamic:!1},{data:"sections",isDynamic:!1},{data:"/",isDynamic:!1},{data:"section_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"fields",isDynamic:!1},{data:"/",isDynamic:!1},{data:"field_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"toggle",isDynamic:!1}]}]},"/"),Ee=r.Ay.bind(null,{endpoint:"event_registration.toggle_section",rules:[{args:["event_id","reg_form_id","section_id"],converters:{event_id:"IntegerConverter",reg_form_id:"IntegerConverter"},defaults:{},trace:[{data:"|",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"manage",isDynamic:!1},{data:"/",isDynamic:!1},{data:"registration",isDynamic:!1},{data:"/",isDynamic:!1},{data:"reg_form_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"form",isDynamic:!1},{data:"/",isDynamic:!1},{data:"sections",isDynamic:!1},{data:"/",isDynamic:!1},{data:"section_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"toggle",isDynamic:!1}]}]},"/"),Te=r.Ay.bind(null,{endpoint:"event_registration.toggle_text",rules:[{args:["event_id","field_id","reg_form_id","section_id"],converters:{event_id:"IntegerConverter",reg_form_id:"IntegerConverter"},defaults:{},trace:[{data:"|",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"manage",isDynamic:!1},{data:"/",isDynamic:!1},{data:"registration",isDynamic:!1},{data:"/",isDynamic:!1},{data:"reg_form_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"form",isDynamic:!1},{data:"/",isDynamic:!1},{data:"sections",isDynamic:!1},{data:"/",isDynamic:!1},{data:"section_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"text",isDynamic:!1},{data:"/",isDynamic:!1},{data:"field_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"toggle",isDynamic:!1}]}]},"/"),we="Lock interface",qe="Unlock interface",Ae="Set form data",Re="Move section",Oe="Update section",Pe="Toggle section",Ce="Remove section",Fe="Create section",xe="Move item",Ie="Update item",je="Remove item",Se="Create item",ke="Update positions";function Ne(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];const a=(0,Y.P$)(e,...i);return async e=>{e({type:we});const t=await a();return e({type:qe}),t}}function Me(e){return{type:ke,items:e.items,sections:e.sections}}function Le(e,t){return{type:Re,sourceIndex:e,targetIndex:t}}function Ue(e,t){return{type:Pe,sectionId:e,enabled:t}}function Be(e,t,i){return{type:xe,sectionId:e,sourceIndex:t,targetIndex:i}}function Ye(e,t){return{type:Ie,itemId:e,data:t}}function $e(e){return async(t,i)=>{const n=i(),a=fe(de(n)(e)),r=await Ne((()=>p.indicoAxios.delete(a)))(t);return r.error||t(function(e){return{type:Ce,sectionId:e}}(e)),!!r.error}}function ze(e,t){return async(i,n)=>{const a=n(),r=fe(de(a)(e)),s={changes:t},l=await(0,Y.HX)((()=>p.indicoAxios.patch(r,s)))(i);return l.error||(delete l.data.items,i(function(e,t){return{type:Oe,sectionId:e,data:t,patch:arguments.length>2&&void 0!==arguments[2]&&arguments[2]}}(e,l.data))),(0,H.camelizeKeys)(l)}}function He(e){return async(t,i)=>{const n=i(),a=_e(de(n)()),r=await(0,Y.HX)((()=>p.indicoAxios.post(a,e)))(t);return r.error||(delete r.data.items,t(function(e){return{type:Fe,data:e}}(r.data))),(0,H.camelizeKeys)(r)}}function Ve(e){return async(t,i)=>{const n=i(),a=se(n,e),r=oe(n,e)(ye,ge)(de(n)(a,e)),s=await Ne((()=>p.indicoAxios.delete(r)))(t);return s.error||t(function(e){return{type:je,itemId:e}}(e)),!!s.error}}function Je(e,t,i){return async(n,a)=>{const r=a(),s=("label"===t?pe:ue)(de(r)(e)),l={fieldData:me(me({},i),{},{input_type:t})},o=await(0,Y.HX)((()=>p.indicoAxios.post(s,l)))(n);return o.error||n(function(e){return{type:Se,data:e}}(o.data.view_data)),(0,H.camelizeKeys)(o)}}var Ge=i(92464),Ze=i.n(Ge),Ke=i(18757),We=i.n(Ke);function Qe(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Xe(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(i),!0).forEach((function(t){(0,z.A)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Qe(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const et={uiLocked:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case we:return!0;case qe:return!1;default:return e}},items:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae:return t.items;case Se:return Xe(Xe({},e),{},{[t.data.id]:t.data});case Ie:return Xe(Xe({},e),{},{[t.itemId]:t.data});case ke:{const i=Xe({},e);return Object.entries(t.items).filter((e=>{let[t]=e;return t in i})).forEach((e=>{let[t,n]=e;i[t]=Xe(Xe({},i[t]),{},{position:n})})),i}case je:return We()(e,t.itemId);case Ce:return Ze()(e,(e=>e.sectionId===t.sectionId));case xe:{const i=x()(Object.values(e).filter((e=>e.sectionId===t.sectionId)),["position","id"]),n=i[t.sourceIndex];i.splice(t.sourceIndex,1),i.splice(t.targetIndex,0,n);let a=1,r=1e3;const s=Xe({},e);return i.forEach((e=>{s[e.id]=Xe(Xe({},e),{},{position:e.isEnabled?a++:r++})})),s}default:return e}},sections:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae:return t.sections;case Pe:return Xe(Xe({},e),{},{[t.sectionId]:Xe(Xe({},e[t.sectionId]),{},{enabled:t.enabled})});case Fe:return Xe(Xe({},e),{},{[t.data.id]:t.data});case Oe:return Xe(Xe({},e),{},{[t.sectionId]:t.patch?Xe(Xe({},e[t.sectionId]),t.data):t.data});case ke:{const i=Xe({},e);return Object.entries(t.sections).filter((e=>{let[t]=e;return t in i})).forEach((e=>{let[t,n]=e;i[t]=Xe(Xe({},i[t]),{},{position:n})})),i}case Ce:return We()(e,t.sectionId);case Re:{const i=x()(Object.values(e),["position","id"]),n=i[t.sourceIndex];i.splice(t.sourceIndex,1),i.splice(t.targetIndex,0,n);let a=1,r=1e3;const s=Xe({},e);return i.forEach((e=>{s[e.id]=Xe(Xe({},e),{},{position:e.enabled?a++:r++})})),s}default:return e}}};var tt=i(10531),it=i(88467),nt=i(42430),at=i(96446),rt=i(57427),st=i(16520),lt=i(92117);const ot="events-registration-client-styles-___regform-module__field___mpG7J";function dt(e){let{id:t,title:i}=e;const a=(0,B.useDispatch)(),[r,s]=(0,n.useState)(!1);return n.createElement(rt.A,null,n.createElement("span",null,i),n.createElement("div",{className:"events-registration-client-styles-___regform-module__actions___yuXgO"},n.createElement(st.A,{content:o.Translate.string("Restore"),trigger:n.createElement(E.A,{name:"undo",color:"grey",size:"small",onClick:()=>{var e;a((e=t,async(t,i)=>{const n=i(),a=de(n)(e),r=Ee(me(me({},a),{},{enable:"true"})),s=await Ne((()=>p.indicoAxios.post(r)))(t);s.error||(t(Ue(e,!0)),t(Me(s.data.positions)))}))},circular:!0,inverted:!0})}),n.createElement(st.A,{content:o.Translate.string("Delete"),trigger:n.createElement(E.A,{name:"trash",color:"red",size:"small",onClick:()=>{s(!0)},circular:!0,inverted:!0})})),n.createElement(M.RequestConfirmDelete,{requestFunc:()=>a($e(t)),onClose:()=>s(!1),open:r,size:"mini",persistent:!0},n.createElement(o.Translate,null,'Are you sure you want to delete the section "',n.createElement(o.Param,{name:"field",value:i,wrapper:n.createElement("strong",null)}),'"?')))}function ct(e){let{onClose:t}=e;const i=(0,B.useSelector)(ae);return(0,n.useEffect)((()=>{i.length||t()}),[t,i.length]),n.createElement(lt.A,{open:!0,closeIcon:!0,size:"mini",onClose:t},n.createElement(lt.A.Header,null,n.createElement(o.Translate,null,"Disabled sections")),n.createElement(lt.A.Content,null,n.createElement("div",{className:"events-registration-client-styles-___regform-module__disabled-sections___TthNB"},i.length?i.map((e=>n.createElement(dt,(0,T.A)({key:e.id},e)))):o.Translate.string("There are no disabled sections."))))}dt.propTypes={id:l().number.isRequired,title:l().string.isRequired},ct.propTypes={onClose:l().func.isRequired};var mt=i(63173);function ut(e){let{id:t,onClose:i}=e;const a=(0,B.useDispatch)(),r=null!==t,{title:s,description:l,isPersonalData:d,isManagerOnly:c}=(0,B.useSelector)((e=>r?re(e,t):{}));return n.createElement(mt.Sz,{id:"regform-section-settings",onSubmit:async e=>{const n=r?ze(t,e):He(e),s=await a(n);if(s.error)return s.error;i()},onClose:i,initialValues:r?{title:s,description:l,is_manager_only:c}:null,header:r?n.createElement(o.Translate,null,'Configure section "',n.createElement(o.Param,{name:"section",value:s}),'"'):n.createElement(o.Translate,null,"Add new section")},n.createElement(u.FinalInput,{name:"title",label:o.Translate.string("Title"),required:!0,autoFocus:!0}),n.createElement(u.FinalTextArea,{name:"description",label:o.Translate.string("Description"),description:n.createElement(o.Translate,null,"You can use Markdown or basic HTML formatting tags.")}),n.createElement(u.FinalCheckbox,{disabled:d,name:"is_manager_only",label:o.Translate.string("Manager-only"),description:n.createElement(o.Translate,null,"Whether the section is only visible for managers.")}))}ut.propTypes={id:l().number,onClose:l().func.isRequired},ut.defaultProps={id:null};var _t=i(68373),pt=i.n(_t),gt=i(64771),ft=i(6423),yt=i(94900),bt=i(18606);(0,V.Mz)(Z,(e=>e.userInfo));const vt=(0,V.Mz)(Z,(e=>!!e.registrationUuid)),ht=(0,V.Mz)(Z,(e=>e.registrationData)),Dt=(0,V.Mz)(Z,(e=>e.moderated)),Et=(0,V.Mz)(Z,(e=>e.management||!1)),Tt=(0,V.Mz)(Z,(e=>e.paid||!1)),wt=(0,V.Mz)(Z,(e=>e.publishToParticipants)),qt=(0,V.Mz)(Z,(e=>e.publishToPublic)),At=(0,V.Mz)(vt,ht,((e,t)=>Q(e,t)),((e,t,i)=>e?t[i.htmlName]:void 0)),Rt=(0,V.Mz)(Tt,((e,t)=>Q(e,t)),((e,t)=>At(e,t)),((e,t,i)=>{if(!e)return!1;if(t.price>0)return!0;if(void 0!==i&&t.choices){let e;return e="string"==typeof i?e=>e.id===i:i.choice?e=>e.id===i.choice:e=>i[e.id]>0,!!t.choices.find((t=>t.price>0&&e(t)))}return!1}));var Ot=i(78434),Pt=i.n(Ot),Ct=i(14867),Ft=i.n(Ct),xt=i(11052);function It(e){let{paid:t,management:i,choice:a}=e,r=null,s=null;return a._deleted?r=n.createElement(o.Translate,null,"The currently chosen option is not available anymore. If you unselect it you won't be able to choose it back."):a._modified&&(r=a.price?n.createElement(o.Translate,null,"The currently chosen option has been modified. If you unselect it you may not be able to select it again for the same price."):n.createElement(o.Translate,null,"The currently chosen option has been modified. If you unselect it you may not be able to select it again.")),t&&!i?s=n.createElement(o.Translate,null,"This option could trigger a price change and has been blocked."):t&&(s=n.createElement(o.Translate,null,"Choosing this option will result in a price change.")),r||s?n.createElement(n.Fragment,null,a.caption," ",r&&n.createElement(st.A,{trigger:n.createElement(E.A,{name:"warning sign",color:"orange"})},r),r&&s&&" ",s&&n.createElement(st.A,{trigger:n.createElement(E.A,{name:"warning sign",color:"orange"})},s)):a.caption}It.propTypes={paid:l().bool.isRequired,management:l().bool.isRequired,choice:l().shape({caption:l().string.isRequired,price:l().number,_deleted:l().bool,_modified:l().bool}).isRequired};var jt=i(50090),St=i(30397),kt=i(56237),Nt=i(51479);const Mt={"./ChoicesSetup.module.scss":{"choices-table-wrapper":"events-registration-client-js-form-fields-___ChoicesSetup-module__choices-table-wrapper___qY3fA","choices-table":"events-registration-client-js-form-fields-___ChoicesSetup-module__choices-table___w2Tu2","table-sortable-handle":"events-registration-client-js-form-fields-___ChoicesSetup-module__table-sortable-handle___D7vqk","empty-row":"events-registration-client-js-form-fields-___ChoicesSetup-module__empty-row___OpJWg","disabled-row":"events-registration-client-js-form-fields-___ChoicesSetup-module__disabled-row___fT9s2"}};function Lt(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Ut(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Lt(Object(i),!0).forEach((function(t){(0,z.A)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Lt(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const Bt={id:l().string.isRequired,caption:l().string.isRequired,isEnabled:l().bool.isRequired,price:l().number.isRequired,placesLimit:l().number,maxExtraSlots:l().number};function Yt(e){let{onFocus:t,onBlur:i,onChange:a,disabled:r,value:s,withExtraSlots:l,forAccommodation:d}=e;const c=(0,B.useSelector)(X),m=e=>()=>a(s.filter((t=>t.id!==e))),u=(e,t)=>{const i=[...s],n=i[e];i.splice(e,1),i.splice(t,0,n),a(i)};return n.createElement(n.Fragment,null,n.createElement(at.S,{className:"events-registration-client-js-form-fields-___ChoicesSetup-module__choices-table-wrapper___qY3fA",accept:"regform-item-choice"},n.createElement("table",{className:"events-registration-client-js-form-fields-___ChoicesSetup-module__choices-table___w2Tu2"},n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",{style:{width:"1.75em"}}),n.createElement("th",null,n.createElement(o.Translate,null,"Caption")),n.createElement("th",{style:{width:"7em"}},n.createElement(o.Translate,null,"Price (",n.createElement(o.Param,{name:"currency",value:c}),")")),n.createElement("th",{style:{width:"7em"}},n.createElement(o.Translate,null,"Limit")),l?n.createElement("th",{colSpan:"2"},n.createElement(o.Translate,null,"Max. extra slots")):n.createElement("th",{style:{width:"3.7em"}}))),n.createElement("tbody",null,s.map(((e,o)=>{return n.createElement(zt,(0,T.A)({key:e.id,index:o,withExtraSlots:l,onChange:(d=e.id,(e,t)=>a(s.map((i=>i.id!==d?i:Ut(Ut({},i),{},{[e]:t}))))),onDelete:m(e.id),onMove:u,fieldProps:{onFocus:t,onBlur:i,disabled:r}},e));var d}))))),d&&n.createElement("p",{className:"field-description",style:{textAlign:"end",marginTop:"-1em",marginBottom:"1em"}},n.createElement(o.Translate,null,"All prices are per night")),n.createElement(kt.A,{type:"button",onClick:()=>{const e={id:`new:${(0,St.Ak)()}`,caption:"",isEnabled:!0,price:0,placesLimit:0};d||(e.maxExtraSlots=0),a([...s,e])},disabled:r},n.createElement(o.Translate,null,"Add new")))}Yt.propTypes={onFocus:l().func.isRequired,onBlur:l().func.isRequired,onChange:l().func.isRequired,value:l().arrayOf(l().shape(Bt)).isRequired,disabled:l().bool.isRequired,withExtraSlots:l().bool,forAccommodation:l().bool},Yt.defaultProps={withExtraSlots:!1,forAccommodation:!1};const $t=(0,jt.A)({field:"choices",updates:e=>({isPriceSet:e.some((e=>e.price))})});function zt(e){let{withExtraSlots:t,fieldProps:i,index:a,id:r,caption:s,price:l,placesLimit:d,maxExtraSlots:c,extraSlotsPay:m,isEnabled:u,isNoAccommodation:_,onChange:p,onMove:g,onDelete:f}=e;const[y,b,v]=(0,at.f)({type:"regform-item-choice",id:r,index:a,active:!i.disabled,separateHandle:!0,moveItem:g,onDrop:()=>null}),h=e=>t=>{const i=t.target;"checkbox"===i.type?p(e,i.checked):"number"===i.type?p(e,+i.value):p(e,i.value)};return n.createElement("tr",{ref:b,style:v,className:(0,gt.A)(u?void 0:"disabled-row",Mt,{autoResolveMultipleImports:!0,handleMissingStyleName:"throw"})},n.createElement("td",{className:"events-registration-client-js-form-fields-___ChoicesSetup-module__table-sortable-handle___D7vqk",ref:y}),n.createElement("td",null,n.createElement("input",{type:"text",name:"caption",value:s,required:!0,onChange:h("caption"),placeholder:_?o.Translate.string("No accommodation"):void 0})),n.createElement("td",null,!_&&n.createElement("input",(0,T.A)({type:"number",name:"price",min:"0",step:"0.01",value:l||"",onChange:h("price")},i))),n.createElement("td",null,!_&&n.createElement("input",(0,T.A)({type:"number",name:"placesLimit",min:"0",value:d||"",onChange:h("placesLimit")},i))),!_&&t&&n.createElement("td",{style:{width:0}},n.createElement(Nt.A,(0,T.A)({type:"number",name:"maxExtraSlots",min:"0",value:c,onChange:h("maxExtraSlots"),icon:{name:"dollar",link:!0,color:m?"blue":"grey",title:o.Translate.string("Extra slots pay"),onClick:()=>p("extraSlotsPay",!m)},style:{width:"7.5em"}},i))),n.createElement("td",{style:{textAlign:"end"}},!_&&n.createElement("a",{className:"icon-remove remove-row",title:o.Translate.string("Remove row"),onClick:i.disabled?void 0:f}),u?n.createElement("a",{className:"icon-disable",title:o.Translate.string("Disable choice"),onClick:()=>p("isEnabled",!1)}):n.createElement("a",{className:"icon-checkmark remove-row",title:o.Translate.string("Enable choice"),onClick:()=>p("isEnabled",!0)})))}function Ht(e){let{placesLimit:t,placesUsed:i,isEnabled:a}=e;const r=t-i,s=r>0?a?"green":"grey":"red";return n.createElement(S.A,{color:s,style:{whiteSpace:"nowrap"}},r>0?n.createElement(o.PluralTranslate,{count:r},n.createElement(o.Singular,null,n.createElement(o.Param,{name:"count",value:r})," place left"),n.createElement(o.Plural,null,n.createElement(o.Param,{name:"count",value:r})," places left")):n.createElement(o.Translate,null,"No places left"))}zt.propTypes=Ut({withExtraSlots:l().bool.isRequired,fieldProps:l().object.isRequired,onChange:l().func.isRequired,onMove:l().func.isRequired,onDelete:l().func.isRequired},Bt),Ht.propTypes={placesLimit:l().number.isRequired,placesUsed:l().number.isRequired,isEnabled:l().bool.isRequired};function Vt(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Jt(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(i),!0).forEach((function(t){(0,z.A)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Vt(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Gt(e){let{id:t,existingValue:i,value:a,onChange:r,disabled:s,isPurged:l,choices:d,arrival:c,departure:m,placesUsed:u}=e;const _=(0,B.useSelector)(Tt),p=(0,B.useSelector)(Et),g=(0,B.useSelector)(X),f=d.find((e=>e.id===a.choice)),[y,b]=(0,n.useState)(null),v=(0,xt.toMoment)(c.startDate,Ft().HTML5_FMT.DATE),h=(0,xt.toMoment)(c.endDate,Ft().HTML5_FMT.DATE),D=(0,xt.toMoment)(m.startDate,Ft().HTML5_FMT.DATE),E=(0,xt.toMoment)(m.endDate,Ft().HTML5_FMT.DATE),T=a.arrivalDate?Math.max(1,Ft()(D).diff(Ft()(a.arrivalDate),"days")+1):1,w=a.arrivalDate&&a.departureDate?Ft()(a.departureDate).diff(Ft()(a.arrivalDate),"days"):0,q=e=>e.price>0&&_,A=e=>!p&&q(e);return n.createElement("div",{className:"events-registration-client-styles-___regform-module__accommodation-field___WHQ+0"},n.createElement("table",{className:"events-registration-client-js-form-fields-___table-module__choice-table___nw5lF",role:"presentation"},n.createElement("tbody",null,d.filter((e=>e.isEnabled||!e.isNoAccommodation)).map(((e,d)=>{return n.createElement("tr",{key:e.id,className:"events-registration-client-js-form-fields-___table-module__row___kh-Ns"},n.createElement("td",null,n.createElement(ft.A.Radio,{id:t?`${t}-${d}`:"",style:{pointerEvents:"auto"},className:"events-registration-client-js-form-fields-___table-module__radio___wfFj9",label:{children:n.createElement(It,{choice:e,management:p,paid:q(e)})},key:e.id,value:e.id,disabled:!e.isEnabled||s||A(e)||e.placesLimit>0&&(u[e.id]||0)>=e.placesLimit&&e.id!==i.choice,checked:!l&&e.id===a.choice,onChange:(c=e,()=>{const e=Jt(Jt({},a),{},{choice:c.id,isNoAccommodation:c.isNoAccommodation});c.isNoAccommodation&&(delete e.arrivalDate,delete e.departureDate),r(e)})})),n.createElement("td",null,e.isEnabled&&!!e.price&&n.createElement(S.A,{pointing:"left"},o.Translate.string("{price} {currency} per night",{price:e.price.toFixed(2),currency:g}))),n.createElement("td",null,0===e.placesLimit?null:n.createElement(Ht,{placesLimit:e.placesLimit,placesUsed:u[e.id]||0,isEnabled:!s&&e.isEnabled&&!A(e)})));var c})))),null!==a.choice&&!a.isNoAccommodation&&n.createElement("div",{className:"events-registration-client-styles-___regform-module__date-picker___zVaWU"},n.createElement(M.DatePeriodField,{onChange:e=>{let{startDate:t,endDate:i}=e;r(Jt(Jt({},a),{},{arrivalDate:t,departureDate:i}))},onFocus:()=>{},onBlur:()=>{},disabledDate:e=>"startDate"===y?!e.isBetween(v,h,"day","[]"):!e.isBetween(v,E,"day","[]"),initialVisibleMonth:()=>v,onFieldFocusChange:b,minimumDays:T,value:{startDate:a.arrivalDate,endDate:a.departureDate},extraPickerProps:{block:!1,startDatePlaceholderText:o.Translate.string("Arrival"),endDatePlaceholderText:o.Translate.string("Departure")}}),!!f.price&&n.createElement(S.A,{pointing:"left",className:"events-registration-client-styles-___regform-module__price-tag___pz3tt"},o.Translate.string("Total: {total} {currency}",{total:(w*f.price).toFixed(2),currency:g}))))}function Zt(e){let{fieldId:t,htmlId:i,htmlName:a,disabled:r,isRequired:s,isPurged:l,choices:d,arrival:c,departure:m,placesUsed:_}=e;const p=(0,B.useSelector)((e=>At(e,t)))||{choice:null};return n.createElement(u.FinalField,{id:i,name:a,existingValue:p,component:Gt,required:s,disabled:r,isPurged:l,choices:d,arrival:c,departure:m,placesUsed:_,validate:e=>null===e.choice?s?o.Translate.string("You must select an option"):void 0:e.isNoAccommodation||e.arrivalDate&&e.departureDate?void 0:o.Translate.string("You must select the arrival and departure date"),isEqual:Pt()})}Gt.propTypes={id:l().string.isRequired,value:l().object.isRequired,onChange:l().func.isRequired,disabled:l().bool.isRequired,isPurged:l().bool.isRequired,choices:l().arrayOf(l().shape(Bt)).isRequired,arrival:l().shape({startDate:l().string.isRequired,endDate:l().string.isRequired}).isRequired,departure:l().shape({startDate:l().string.isRequired,endDate:l().string.isRequired}).isRequired,placesUsed:l().objectOf(l().number).isRequired,existingValue:l().shape({choice:l().string}).isRequired},Zt.propTypes={fieldId:l().number.isRequired,htmlId:l().string.isRequired,htmlName:l().string.isRequired,disabled:l().bool,isRequired:l().bool,isPurged:l().bool.isRequired,choices:l().arrayOf(l().shape(Bt)).isRequired,arrival:l().shape({startDate:l().string.isRequired,endDate:l().string.isRequired}).isRequired,departure:l().shape({startDate:l().string.isRequired,endDate:l().string.isRequired}).isRequired,placesUsed:l().objectOf(l().number).isRequired},Zt.defaultProps={disabled:!1,isRequired:!1};function Kt(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Wt(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Kt(Object(i),!0).forEach((function(t){(0,z.A)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Kt(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Qt(e){let{value:t,header:i,onSubmit:a,onClose:r}=e;return n.createElement(mt.Sz,{id:"accompanyingperson-form",onSubmit:a,onClose:r,initialValues:t,header:i},n.createElement(u.FinalInput,{name:"firstName",label:o.Translate.string("First Name"),required:!0,autoFocus:!0}),n.createElement(u.FinalInput,{name:"lastName",label:o.Translate.string("Last Name"),required:!0}))}function Xt(e,t,i,n,a){if(null===e)return t?[i,t]:[null,1/0];{const r=function(e,t){return Object.values(e).filter((e=>"accompanying_persons"===e.inputType&&e.personsCountAgainstLimit)).map((e=>e.htmlName)).reduce(((e,i)=>{var n;return e+(null===(n=t.values[i])||void 0===n?void 0:n.length)||0}),0)}(n,a);return!t||t>=e-r?[r,e]:[i,t]}}function ei(e){let{id:t,value:i,disabled:a,onChange:r,price:s,availablePlaces:l,maxPersons:d}=e;const[c,m]=(0,n.useState)({type:null,person:null}),u=(0,B.useSelector)(X),_=(i.length*s).toFixed(2),p=(0,B.useSelector)(W),g=(0,nt.useFormState)(),[f,y]=Xt(l,d,i.length,p,g),b=e=>{switch(e.type){case"ADD":return[...i,Wt({id:`new:${(0,St.Ak)()}`},e.person)];case"EDIT":return i.map((t=>t.id===e.person.id?e.person:t));case"REMOVE":return i.filter((t=>t.id!==e.id))}},v=()=>{m({type:null,person:null})};return n.createElement(ft.A.Group,{className:"events-registration-client-styles-___regform-module__accompanyingpersons-field___MUvS6"},n.createElement("ul",null,!i.length&&n.createElement("li",{className:"events-registration-client-styles-___regform-module__light___gdy5g"},n.createElement(o.Translate,null,"No accompanying persons registered")),i.map((e=>n.createElement("li",{key:e.id},n.createElement("span",null,e.firstName," ",e.lastName),n.createElement("div",{className:"events-registration-client-styles-___regform-module__actions___yuXgO"},n.createElement("a",{className:"icon-edit",title:o.Translate.string("Edit this person"),onClick:()=>{return t=e.id,void m({type:"EDIT",person:i.find((e=>e.id===t))});var t}}),n.createElement("a",{className:"icon-remove",title:o.Translate.string("Remove this person"),onClick:()=>{return t=e.id,void r(b({type:"REMOVE",id:t}));var t}})))))),n.createElement("div",{className:"events-registration-client-styles-___regform-module__summary___Krn7Y"},n.createElement(kt.A,{size:"small",type:"button",onClick:()=>{m({type:"ADD",person:null})},disabled:a||y-f==0,"aria-describedby":t?`${t}-placeslimit`:""},n.createElement(o.Translate,null,"Add accompanying person")),!!s&&n.createElement(S.A,{basic:!0,pointing:"left",className:"events-registration-client-styles-___regform-module__price-tag___pz3tt",size:"small"},s.toFixed(2)," ",u," (Total: ",_," ",u,")"),y!==1/0&&n.createElement("div",{id:`${t}-placeslimit`,className:"events-registration-client-styles-___regform-module__places-left___6O4Ev"},n.createElement(Ht,{placesLimit:y,placesUsed:f,isEnabled:!a}))),["ADD","EDIT"].includes(c.type)&&n.createElement(Qt,{header:"EDIT"===c.type?o.Translate.string("Edit accompanying person"):o.Translate.string("Add accompanying person"),onSubmit:e=>{r(b({type:c.type,person:e})),v()},value:c.person,onClose:v}))}function ti(e){let{htmlId:t,htmlName:i,disabled:a,price:r,availablePlaces:s,maxPersons:l}=e;return n.createElement(u.FinalField,{id:t,name:i,component:ei,disabled:a,price:r,availablePlaces:s,maxPersons:l})}Qt.propTypes={value:l().shape({id:l().string.isRequired,firstName:l().string.isRequired,lastName:l().string.isRequired}),header:l().string.isRequired,onSubmit:l().func.isRequired,onClose:l().func.isRequired},Qt.defaultProps={value:{id:null,firstName:null,lastName:null}},ei.propTypes={id:l().string.isRequired,value:l().arrayOf(l().shape({id:l().string.isRequired,firstName:l().string.isRequired,lastName:l().string.isRequired})).isRequired,disabled:l().bool,onChange:l().func.isRequired,price:l().number,availablePlaces:l().number,maxPersons:l().number},ei.defaultProps={disabled:!1,price:0,availablePlaces:null,maxPersons:null},ti.propTypes={htmlId:l().string.isRequired,htmlName:l().string.isRequired,disabled:l().bool,price:l().number,availablePlaces:l().number,maxPersons:l().number},ti.defaultProps={disabled:!1,price:0,availablePlaces:null,maxPersons:null};const ii={"../../../styles/regform.module.scss":{"setup-toolbar":"events-registration-client-styles-___regform-module__setup-toolbar___tu1Kv","disabled-sections":"events-registration-client-styles-___regform-module__disabled-sections___TthNB",actions:"events-registration-client-styles-___regform-module__actions___yuXgO","form-item":"events-registration-client-styles-___regform-module__form-item___AlbiE",disabled:"events-registration-client-styles-___regform-module__disabled___A4p+q",content:"events-registration-client-styles-___regform-module__content___dKw31","paid-disabled":"events-registration-client-styles-___regform-module__paid-disabled___e8zT-","purged-disabled":"events-registration-client-styles-___regform-module__purged-disabled___oo16L",label:"events-registration-client-styles-___regform-module__label___t11lD",field:"events-registration-client-styles-___regform-module__field___mpG7J","price-tag":"events-registration-client-styles-___regform-module__price-tag___pz3tt","places-left":"events-registration-client-styles-___regform-module__places-left___6O4Ev",greyed:"events-registration-client-styles-___regform-module__greyed___HZLen","number-field":"events-registration-client-styles-___regform-module__number-field___LtuaG","boolean-field":"events-registration-client-styles-___regform-module__boolean-field___0geJs","date-field":"events-registration-client-styles-___regform-module__date-field___LToLh","file-field":"events-registration-client-styles-___regform-module__file-field___1Nup7","accommodation-field":"events-registration-client-styles-___regform-module__accommodation-field___WHQ+0","date-picker":"events-registration-client-styles-___regform-module__date-picker___zVaWU","accompanyingpersons-field":"events-registration-client-styles-___regform-module__accompanyingpersons-field___MUvS6",light:"events-registration-client-styles-___regform-module__light___gdy5g",summary:"events-registration-client-styles-___regform-module__summary___Krn7Y","timetablesessions-field":"events-registration-client-styles-___regform-module__timetablesessions-field___t1Ljf","country-dropdown":"events-registration-client-styles-___regform-module__country-dropdown___Hhf-Y","single-choice-dropdown":"events-registration-client-styles-___regform-module__single-choice-dropdown___tzmJ5","dropdown-text":"events-registration-client-styles-___regform-module__dropdown-text___GB4OB",caption:"events-registration-client-styles-___regform-module__caption___u54ZN",labels:"events-registration-client-styles-___regform-module__labels___Zy8f7","single-choice-radio-group":"events-registration-client-styles-___regform-module__single-choice-radio-group___E9qIt",description:"events-registration-client-styles-___regform-module__description___abkAU",editable:"events-registration-client-styles-___regform-module__editable___ZHQMz","sortable-handle":"events-registration-client-styles-___regform-module__sortable-handle___yz1-x","header-wrapper":"events-registration-client-styles-___regform-module__header-wrapper___U6gJN","section-sortable-handle":"events-registration-client-styles-___regform-module__section-sortable-handle___ABMeH","manager-only":"events-registration-client-styles-___regform-module__manager-only___PQwvG","section-actions":"events-registration-client-styles-___regform-module__section-actions___p3bRe","dropdown-menu":"events-registration-client-styles-___regform-module__dropdown-menu___9uq+D","dropdown-item":"events-registration-client-styles-___regform-module__dropdown-item___chpZW"}};function ni(e){let{fieldId:t,value:i,onChange:a,disabled:r,required:s,isPurged:l,price:d,placesLimit:c,placesUsed:m}=e;const u=(0,B.useSelector)(X),_=(0,B.useSelector)((e=>At(e,t))),p=e=>()=>{a(i!==e||s?e:null)};return n.createElement("div",{className:"events-registration-client-styles-___regform-module__boolean-field___0geJs"},n.createElement(kt.A.Group,null,n.createElement(kt.A,{type:"button",active:!l&&!0===i,disabled:r||c>0&&m>=c&&!_,onClick:p(!0)},n.createElement(o.Translate,null,"Yes")),n.createElement(kt.A,{type:"button",active:!l&&!1===i,disabled:r,onClick:p(!1)},n.createElement(o.Translate,null,"No"))),!!d&&n.createElement(S.A,{pointing:"left",className:(0,gt.A)("price-tag "+(!0!==i?"greyed":""),ii,{autoResolveMultipleImports:!0,handleMissingStyleName:"throw"})},d.toFixed(2)," ",u),!!c&&n.createElement("div",{style:{marginLeft:"1em"}},n.createElement(Ht,{placesLimit:c,placesUsed:m,isEnabled:!r})))}function ai(e){let{fieldId:t,htmlName:i,disabled:a,isRequired:r,isPurged:s,price:l,placesLimit:d,placesUsed:c}=e;return n.createElement(u.FinalField,{fieldId:t,name:i,component:ni,required:r?"no-validator":r,validate:e=>{if(r&&null===e)return o.Translate.string("This field is required.")},disabled:a,isPurged:s,allowNull:!0,price:l,placesLimit:d,placesUsed:c})}ni.propTypes={fieldId:l().number.isRequired,value:l().bool,onChange:l().func.isRequired,disabled:l().bool.isRequired,required:l().bool.isRequired,isPurged:l().bool.isRequired,price:l().number.isRequired,placesLimit:l().number.isRequired,placesUsed:l().number.isRequired},ni.defaultProps={value:null},ai.propTypes={fieldId:l().number.isRequired,htmlName:l().string.isRequired,disabled:l().bool,isRequired:l().bool,isPurged:l().bool.isRequired,price:l().number,placesLimit:l().number,placesUsed:l().number},ai.defaultProps={disabled:!1,isRequired:!1,price:0,placesLimit:0,placesUsed:0};const ri={styles:{"setup-toolbar":"events-registration-client-styles-___regform-module__setup-toolbar___tu1Kv","disabled-sections":"events-registration-client-styles-___regform-module__disabled-sections___TthNB",actions:"events-registration-client-styles-___regform-module__actions___yuXgO","form-item":"events-registration-client-styles-___regform-module__form-item___AlbiE",disabled:"events-registration-client-styles-___regform-module__disabled___A4p+q",content:"events-registration-client-styles-___regform-module__content___dKw31","paid-disabled":"events-registration-client-styles-___regform-module__paid-disabled___e8zT-","purged-disabled":"events-registration-client-styles-___regform-module__purged-disabled___oo16L",label:"events-registration-client-styles-___regform-module__label___t11lD",field:"events-registration-client-styles-___regform-module__field___mpG7J","price-tag":"events-registration-client-styles-___regform-module__price-tag___pz3tt","places-left":"events-registration-client-styles-___regform-module__places-left___6O4Ev",greyed:"events-registration-client-styles-___regform-module__greyed___HZLen","number-field":"events-registration-client-styles-___regform-module__number-field___LtuaG","boolean-field":"events-registration-client-styles-___regform-module__boolean-field___0geJs","date-field":"events-registration-client-styles-___regform-module__date-field___LToLh","file-field":"events-registration-client-styles-___regform-module__file-field___1Nup7","accommodation-field":"events-registration-client-styles-___regform-module__accommodation-field___WHQ+0","date-picker":"events-registration-client-styles-___regform-module__date-picker___zVaWU","accompanyingpersons-field":"events-registration-client-styles-___regform-module__accompanyingpersons-field___MUvS6",light:"events-registration-client-styles-___regform-module__light___gdy5g",summary:"events-registration-client-styles-___regform-module__summary___Krn7Y","timetablesessions-field":"events-registration-client-styles-___regform-module__timetablesessions-field___t1Ljf","country-dropdown":"events-registration-client-styles-___regform-module__country-dropdown___Hhf-Y","single-choice-dropdown":"events-registration-client-styles-___regform-module__single-choice-dropdown___tzmJ5","dropdown-text":"events-registration-client-styles-___regform-module__dropdown-text___GB4OB",caption:"events-registration-client-styles-___regform-module__caption___u54ZN",labels:"events-registration-client-styles-___regform-module__labels___Zy8f7","single-choice-radio-group":"events-registration-client-styles-___regform-module__single-choice-radio-group___E9qIt",description:"events-registration-client-styles-___regform-module__description___abkAU",editable:"events-registration-client-styles-___regform-module__editable___ZHQMz","sortable-handle":"events-registration-client-styles-___regform-module__sortable-handle___yz1-x","header-wrapper":"events-registration-client-styles-___regform-module__header-wrapper___U6gJN","section-sortable-handle":"events-registration-client-styles-___regform-module__section-sortable-handle___ABMeH","manager-only":"events-registration-client-styles-___regform-module__manager-only___PQwvG","section-actions":"events-registration-client-styles-___regform-module__section-actions___p3bRe","dropdown-menu":"events-registration-client-styles-___regform-module__dropdown-menu___9uq+D","dropdown-item":"events-registration-client-styles-___regform-module__dropdown-item___chpZW"}};function si(e){let{fieldId:t,htmlId:i,htmlName:a,disabled:r,title:s,isRequired:l,showAsRequired:o,price:d,placesLimit:c,placesUsed:m,retentionPeriodIcon:_}=e;const p=(0,B.useSelector)(X),g=(0,B.useSelector)((e=>At(e,t))),f=`${i}-checkbox`;return n.createElement(u.FinalCheckbox,{id:f,fieldProps:{className:`${ot} ${o?"required":""}`},name:a,label:s,disabled:r||c>0&&m>=c&&!g,required:l},_,!!d&&n.createElement(nt.Field,{name:a,subscription:{value:!0}},(e=>{let{input:{value:t}}=e;return n.createElement(S.A,{pointing:"left",className:(0,gt.A)("price-tag "+(t?"":"greyed"),ri,{autoResolveMultipleImports:!0,handleMissingStyleName:"throw"})},d.toFixed(2)," ",p)})),!!c&&n.createElement("div",{style:{marginLeft:"1em",display:"inline-block"}},n.createElement(Ht,{placesLimit:c,placesUsed:m,isEnabled:!r})))}si.propTypes={fieldId:l().number.isRequired,htmlId:l().string.isRequired,htmlName:l().string.isRequired,disabled:l().bool,title:l().string.isRequired,isRequired:l().bool.isRequired,showAsRequired:l().bool.isRequired,price:l().number,placesLimit:l().number.isRequired,placesUsed:l().number.isRequired,retentionPeriodIcon:l().element},si.defaultProps={disabled:!1,price:0,retentionPeriodIcon:null};const li=e=>String.fromCodePoint(...e.split("").map((e=>e.charCodeAt()+127397))),oi=(e,t)=>{const i=e=>e.toLowerCase().normalize("NFD").replace(/[\^`\xA8\xAF\xB4\xB7\xB8\u02B0-\u034E\u0350-\u0357\u035D-\u0362\u0374\u0375\u037A\u0384\u0385\u0483-\u0487\u0559\u0591-\u05A1\u05A3-\u05BD\u05BF\u05C1\u05C2\u05C4\u064B-\u0652\u0657\u0658\u06DF\u06E0\u06E5\u06E6\u06EA-\u06EC\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F5\u0818\u0819\u0898-\u089F\u08C9-\u08D2\u08E3-\u08FE\u093C\u094D\u0951-\u0954\u0971\u09BC\u09CD\u0A3C\u0A4D\u0ABC\u0ACD\u0AFD-\u0AFF\u0B3C\u0B4D\u0B55\u0BCD\u0C3C\u0C4D\u0CBC\u0CCD\u0D3B\u0D3C\u0D4D\u0DCA\u0E47-\u0E4C\u0E4E\u0EBA\u0EC8-\u0ECC\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F82-\u0F84\u0F86\u0F87\u0FC6\u1037\u1039\u103A\u1063\u1064\u1069-\u106D\u1087-\u108D\u108F\u109A\u109B\u135D-\u135F\u1714\u1715\u17C9-\u17D3\u17DD\u1939-\u193B\u1A75-\u1A7C\u1A7F\u1AB0-\u1ABE\u1AC1-\u1ACB\u1B34\u1B44\u1B6B-\u1B73\u1BAA\u1BAB\u1C36\u1C37\u1C78-\u1C7D\u1CD0-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1D2C-\u1D6A\u1DC4-\u1DCF\u1DF5-\u1DFF\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2CEF-\u2CF1\u2E2F\u302A-\u302F\u3099-\u309C\u30FC\uA66F\uA67C\uA67D\uA67F\uA69C\uA69D\uA6F0\uA6F1\uA700-\uA721\uA788-\uA78A\uA7F8\uA7F9\uA8C4\uA8E0-\uA8F1\uA92B-\uA92E\uA953\uA9B3\uA9C0\uA9E5\uAA7B-\uAA7D\uAABF-\uAAC2\uAAF6\uAB5B-\uAB5F\uAB69-\uAB6B\uABEC\uABED\uFB1E\uFE20-\uFE2F\uFF3E\uFF40\uFF70\uFF9E\uFF9F\uFFE3\u{102E0}\u{10780}-\u{10785}\u{10787}-\u{107B0}\u{107B2}-\u{107BA}\u{10AE5}\u{10AE6}\u{10D22}-\u{10D27}\u{10EFD}-\u{10EFF}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11046}\u{11070}\u{110B9}\u{110BA}\u{11133}\u{11134}\u{11173}\u{111C0}\u{111CA}-\u{111CC}\u{11235}\u{11236}\u{112E9}\u{112EA}\u{1133C}\u{1134D}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11442}\u{11446}\u{114C2}\u{114C3}\u{115BF}\u{115C0}\u{1163F}\u{116B6}\u{116B7}\u{1172B}\u{11839}\u{1183A}\u{1193D}\u{1193E}\u{11943}\u{119E0}\u{11A34}\u{11A47}\u{11A99}\u{11C3F}\u{11D42}\u{11D44}\u{11D45}\u{11D97}\u{13447}-\u{13455}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F8F}-\u{16F9F}\u{16FF0}\u{16FF1}\u{1AFF0}-\u{1AFF3}\u{1AFF5}-\u{1AFFB}\u{1AFFD}\u{1AFFE}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D167}-\u{1D169}\u{1D16D}-\u{1D172}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1E030}-\u{1E06D}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E946}\u{1E948}-\u{1E94A}]/gu,""),n=i(t);return e.filter((e=>i(e.text).includes(n)))};function di(e){let{value:t,onChange:i,disabled:a,choices:r,clearable:s}=e;return n.createElement(q.A,{className:"events-registration-client-styles-___regform-module__country-dropdown___Hhf-Y",placeholder:o.Translate.string("Select a country"),fluid:!0,search:oi,selection:!0,selectOnBlur:!1,selectOnNavigation:!1,disabled:a,clearable:s,value:t,onChange:(e,t)=>{let{value:n=""}=t;return i(n)},options:r.map((e=>({key:e.countryKey,value:e.countryKey,text:`${li(e.countryKey)} ${e.caption}`})))})}function ci(e){let{htmlId:t,htmlName:i,disabled:a,isRequired:r,choices:s}=e;return n.createElement(u.FinalField,{id:t,name:i,component:di,required:r,disabled:a,choices:s,clearable:!r,parse:e=>e})}function mi(e){let{htmlName:t}=e;const{hasPredefinedAffiliations:i}=(0,B.useSelector)(Z);return"country"===t&&i?n.createElement(u.FinalCheckbox,{name:"useAffiliationCountry",label:o.Translate.string("Default to affiliation country")}):null}di.propTypes={value:l().string.isRequired,onChange:l().func.isRequired,disabled:l().bool.isRequired,choices:l().arrayOf(l().objectOf(l().string)).isRequired,clearable:l().bool.isRequired},ci.propTypes={htmlId:l().string.isRequired,htmlName:l().string.isRequired,disabled:l().bool,isRequired:l().bool,choices:l().arrayOf(l().objectOf(l().string)).isRequired},ci.defaultProps={disabled:!1,isRequired:!1},mi.propTypes={htmlName:l().string},mi.defaultProps={htmlName:void 0};var ui=i(72641),_i=i(82050),pi=i(7305);function gi(){gi=function(e,t){return new i(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function i(e,n,a){var r=new RegExp(e,n);return t.set(r,a||t.get(e)),(0,_i.A)(r,i.prototype)}function n(e,i){var n=t.get(i);return Object.keys(n).reduce((function(t,i){var a=n[i];if("number"==typeof a)t[i]=e[a];else{for(var r=0;void 0===e[a[r]]&&r+1<a.length;)r++;t[i]=e[a[r]]}return t}),Object.create(null))}return(0,ui.A)(i,RegExp),i.prototype.exec=function(t){var i=e.exec.call(this,t);if(i){i.groups=n(i,this);var a=i.indices;a&&(a.groups=n(a,this))}return i},i.prototype[Symbol.replace]=function(i,a){if("string"==typeof a){var r=t.get(this);return e[Symbol.replace].call(this,i,a.replace(/\$<([^>]+)>/g,(function(e,t){var i=r[t];return"$"+(Array.isArray(i)?i.join("$"):i)})))}if("function"==typeof a){var s=this;return e[Symbol.replace].call(this,i,(function(){var e=arguments;return"object"!=typeof e[e.length-1]&&(e=[].slice.call(e)).push(n(e,s)),a.apply(this,e)}))}return e[Symbol.replace].call(this,i,a)},gi.apply(this,arguments)}function fi(e){let{id:t,value:i,onChange:a,onFocus:r,onBlur:s,disabled:l,required:o,dateFormat:d,timeFormat:c,minDate:m,maxDate:u}=e;const _=i.split("T")[0],p=i.includes("T")?i.split("T")[1]:"";return n.createElement(ft.A.Group,{className:"events-registration-client-styles-___regform-module__date-field___LToLh"},n.createElement(ft.A.Field,null,n.createElement(M.DatePicker,{id:t,name:"date",disabled:l,required:o,format:d,value:_,onChange:e=>{a(`${e||""}T${c?p:"00:00:00"}`)},onFocus:r,onBlur:s,min:m,max:u})),c&&n.createElement(ft.A.Field,null,n.createElement(pi.A,{id:t,name:"time",disabled:l,required:o,showSecond:!1,value:(0,xt.toMoment)(p,"HH:mm:ss",!0),focusOnOpen:!0,onChange:e=>a(e?`${_}T${e.format("HH:mm:00")}`:_),use12Hours:"12h"===c,allowEmpty:!1,placeholder:"12h"===c?"--:-- am/pm":"--:--",getPopupContainer:e=>e})))}function yi(e){let{htmlId:t,htmlName:i,disabled:a,isRequired:r,dateFormat:s,timeFormat:l}=e;const d=s.replace(/%([HMdmY])/g,((e,t)=>({H:"HH",M:"mm",d:"DD",m:"MM",Y:"YYYY"}[t]))),c=e=>{if(e&&!e.match(/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:00(.*)/))return o.Translate.string("The provided date is invalid.")};if(s.includes("%d"))return n.createElement(u.FinalField,{id:t,name:i,component:fi,required:r,disabled:a,dateFormat:d,timeFormat:l,validate:c});{const e=e=>{var t;if(!e)return e;const i={"%m/%Y":gi(/^(\d{2})\/(\d{4})$/,{month:1,year:2}),"%m.%Y":gi(/^(\d{2})\.(\d{4})$/,{month:1,year:2}),"%Y":gi(/^(\d{4})$/,{year:1})}[s].exec(e),n=i?`${i.groups.year}-${null!==(t=i.groups.month)&&void 0!==t?t:"01"}-01T00:00:00`:e;try{return(0,xt.toMoment)(n,"YYYY-MM-DDTHH:mm:ss",!0),n}catch(t){return e}},l=e=>{if(!e||!e.includes("T"))return e;try{return(0,xt.toMoment)(e,"YYYY-MM-DDTHH:mm:ss",!0).format(d)}catch(t){return e}};return n.createElement(u.FinalField,{id:t,type:"text",name:i,component:Nt.A,required:r,disabled:a,placeholder:d,parse:e,format:l,validate:c})}}fi.propTypes={id:l().string.isRequired,value:l().string.isRequired,onChange:l().func.isRequired,onFocus:l().func.isRequired,onBlur:l().func.isRequired,disabled:l().bool.isRequired,required:l().bool.isRequired,dateFormat:l().oneOf(["DD/MM/YYYY","DD.MM.YYYY","MM/DD/YYYY","MM.DD.YYYY","YYYY/MM/DD","YYYY.MM.DD","MM/YYYY","MM.YYYY","YYYY"]).isRequired,timeFormat:l().oneOf(["12h","24h"]),minDate:l().string,maxDate:l().string},fi.defaultProps={timeFormat:null,minDate:void 0,maxDate:void 0},yi.propTypes={htmlId:l().string.isRequired,htmlName:l().string.isRequired,disabled:l().bool,isRequired:l().bool,dateFormat:l().oneOf(["%d/%m/%Y","%d.%m.%Y","%m/%d/%Y","%m.%d.%Y","%Y/%m/%d","%Y.%m.%d","%m/%Y","%m.%Y","%Y"]).isRequired,timeFormat:l().oneOf(["12h","24h"])},yi.defaultProps={disabled:!1,isRequired:!1,timeFormat:null};const bi=(0,jt.A)({field:"dateFormat",updates:e=>e.includes("%d")?{}:{timeFormat:null}});var vi=i(87597);const hi=r.Ay.bind(null,{endpoint:"event_registration.check_email",rules:[{args:["event_id","reg_form_id"],converters:{event_id:"IntegerConverter",reg_form_id:"IntegerConverter"},defaults:{},trace:[{data:"|",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"registrations",isDynamic:!1},{data:"/",isDynamic:!1},{data:"reg_form_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"check-email",isDynamic:!1}]}]},"/");function Di(e){let{htmlId:t,htmlName:i,disabled:a,isRequired:r}=e;const s="email"===i,[l,d]=(0,n.useState)({status:"",message:"",forEmail:""}),c=(0,B.useSelector)(vt),{eventId:m,regformId:g,registrationUuid:f,management:y}=(0,B.useSelector)(Z),[b,v]=(0,n.useMemo)((()=>{const e=new URLSearchParams(location.search);return[e.get("invitation"),e.get("form_token")]}),[]),h=(0,n.useMemo)((()=>{const e={event_id:m,reg_form_id:g};return b&&(e.invitation=b),v&&(e.form_token=v),hi(e)}),[m,g,b,v]),D=(0,_.vJ)((async e=>{let t,i;if(!(e=e.trim()))return t=o.Translate.string("This field is required."),d({status:"error",forEmail:e,message:t}),t;d({status:"",forEmail:e,message:o.Translate.string("Checking email address...")});try{i=await p.indicoAxios.get(h,{params:c?{email:e,management:y,update:f}:{email:e,management:y}})}catch(e){return(0,p.handleAxiosError)(e)}const a=i.data,r=a.user?$("<span>",{text:a.user}).html():null;return t="email-already-registered"===a.conflict?o.Translate.string("There is already a registration with this email address."):"user-already-registered"===a.conflict?o.Translate.string("The user associated with this email address is already registered."):"no-user"===a.conflict?o.Translate.string("There is no Indico user associated with this email address."):"error"!==a.status||"email-other-user"!==a.conflict&&"email-no-user"!==a.conflict?"email-other-user"===a.conflict?n.createElement(o.Translate,null,"The registration will be re-associated to a different user (",n.createElement(o.Param,{name:"name",wrapper:n.createElement("strong",null),value:r}),")."):"email-no-user"===a.conflict?n.createElement(o.Translate,null,"The registration will be disassociated from the current user (",n.createElement(o.Param,{name:"name",wrapper:n.createElement("strong",null),value:r}),")."):"email-invalid"===a.conflict?"undeliverable"===a.email_error?o.Translate.string("The domain used in the email address does not exist."):o.Translate.string("This email address is invalid."):a.user?a.self?o.Translate.string("The registration will be associated with your Indico account."):a.same?n.createElement(o.Translate,null,"The registration will remain associated with the Indico account"," ",n.createElement(o.Param,{name:"name",wrapper:n.createElement("strong",null),value:r}),"."):n.createElement(o.Translate,null,"The registration will be associated with the Indico account"," ",n.createElement(o.Param,{name:"name",wrapper:n.createElement("strong",null),value:r}),"."):o.Translate.string("The registration will not be associated with any Indico account."):o.Translate.string("This email address is not associated with your Indico account."),d({status:a.status,message:t,forEmail:e}),"error"===a.status?t:void 0}),250);return n.createElement(u.FinalInput,{type:"email",id:t,name:i,required:r&&s?"no-validator":r,disabled:a,validate:s?D:r?u.validators.required:void 0,hideValidationError:!(!s||"error"!==l.status||!l.forEmail)&&"message",loaderWhileValidating:!0},s&&!!l.forEmail&&!!l.message&&n.createElement(vi.A,{visible:!0,warning:"warning"===l.status,error:"error"===l.status,positive:"ok"===l.status},l.message))}Di.propTypes={htmlId:l().string.isRequired,htmlName:l().string.isRequired,disabled:l().bool,isRequired:l().bool.isRequired},Di.defaultProps={disabled:!1};const Ei=r.Ay.bind(null,{endpoint:"event_registration.upload_registration_file",rules:[{args:["event_id","reg_form_id"],converters:{event_id:"IntegerConverter",reg_form_id:"IntegerConverter"},defaults:{},trace:[{data:"|",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"registrations",isDynamic:!1},{data:"/",isDynamic:!1},{data:"reg_form_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"upload",isDynamic:!1}]}]},"/");function Ti(e){let{htmlName:t,disabled:i,isRequired:a}=e;const{eventId:r,regformId:s,registrationUuid:l,fileData:o}=(0,B.useSelector)(Z),d=(0,B.useSelector)(vt),[c,m]=(0,n.useMemo)((()=>{const e=new URLSearchParams(location.search);return[e.get("invitation"),e.get("form_token")]}),[]),u=d&&o[t]||null,_={event_id:r,reg_form_id:s};return l&&(_.token=l),c&&(_.invitation=c),m&&(_.form_token=m),n.createElement("div",{className:"events-registration-client-styles-___regform-module__file-field___1Nup7"},n.createElement(M.FinalSingleFileManager,{name:t,disabled:i,required:a,uploadURL:Ei(_),initialFileDetails:u}))}function wi(e){let{title:t}=e;return n.createElement("div",{className:"events-registration-client-styles-___regform-module__label___t11lD"},t)}Ti.propTypes={htmlName:l().string.isRequired,disabled:l().bool,isRequired:l().bool},Ti.defaultProps={disabled:!1,isRequired:!1},wi.propTypes={title:l().string.isRequired};var qi=i(38420),Ai=i.n(qi),Ri=i(95355),Oi=i.n(Ri),Pi=i(91185);function Ci(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Fi(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Ci(Object(i),!0).forEach((function(t){(0,z.A)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ci(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function xi(e){let{id:t,existingValue:i,value:a,onChange:r,onFocus:s,onBlur:l,disabled:d,choices:c,withExtraSlots:m,placesUsed:u}=e;const _=(0,B.useSelector)(Tt),p=(0,B.useSelector)(Et),g=(0,B.useSelector)(X),f=()=>{s(),l()},y=e=>()=>{f(),a[e.id]?r(We()(a,e.id)):r(Fi(Fi({},a),{},{[e.id]:+!a[e.id]}))},b=e=>(t,i)=>{let{value:n}=i;f(),r(+n?Fi(Fi({},a),{},{[e.id]:+n}):We()(a,e.id))},v=e=>{const t=a[e.id]||0;return((0===t?0:e.extraSlotsPay?t:1)*e.price).toFixed(2)},h=e=>e.price>0&&_,D=e=>!p&&h(e);return n.createElement("table",{className:"events-registration-client-js-form-fields-___table-module__choice-table___nw5lF",role:"presentation"},n.createElement("tbody",null,c.map(((e,r)=>n.createElement("tr",{key:e.id,className:"events-registration-client-js-form-fields-___table-module__row___kh-Ns"},n.createElement("td",null,n.createElement(Pi.A,{id:t?`${t}-${r}`:"",className:"events-registration-client-js-form-fields-___table-module__checkbox___7FyHh",style:{pointerEvents:"auto"},value:e.id,disabled:!e.isEnabled||d||D(e)||e.placesLimit>0&&(u[e.id]||0)>=e.placesLimit&&!i[e.id],checked:!!a[e.id],onChange:y(e),label:{children:n.createElement(It,{choice:e,management:p,paid:h(e)})}})),n.createElement("td",null,e.isEnabled&&!!e.price&&n.createElement(S.A,{pointing:"left"},e.price.toFixed(2)," ",g)),n.createElement("td",null,0===e.placesLimit?null:n.createElement(Ht,{placesLimit:e.placesLimit,placesUsed:u[e.id]||0,isEnabled:!d&&e.isEnabled&&!D(e)})),m&&n.createElement("td",null,e.isEnabled&&n.createElement(q.A,{selection:!0,className:"events-registration-client-js-form-fields-___table-module__dropdown___EZd1Q",disabled:d||D(e)||e.placesLimit>0&&(u[e.id]||0)-(i[e.id]||0)>=e.placesLimit,value:a[e.id]||0,onChange:b(e),options:Oi()(0,e.maxExtraSlots+2).map((t=>({key:t,value:t,text:t,disabled:e.placesLimit>0&&(u[e.id]||0)-(i[e.id]||0)+t>e.placesLimit})))})),m&&n.createElement("td",null,e.isEnabled&&!!e.price&&n.createElement(S.A,{pointing:"left"},o.Translate.string("Total: {total} {currency}",{total:v(e),currency:g}))))))))}function Ii(e){let{fieldId:t,htmlId:i,htmlName:a,disabled:r,isRequired:s,choices:l,maxChoices:d,withExtraSlots:c,placesUsed:m}=e;const _=(0,B.useSelector)((e=>At(e,t)))||{};return n.createElement(u.FinalField,{id:i,name:a,component:xi,required:s,disabled:r,choices:l,withExtraSlots:c,placesUsed:m,existingValue:_,isEqual:Pt(),validate:e=>{if(d&&Ai()(e).length>d)return o.PluralTranslate.string("At most {n} option can be selected","At most {n} options can be selected",d,{n:d})}})}xi.propTypes={id:l().string.isRequired,value:l().object.isRequired,onChange:l().func.isRequired,onFocus:l().func.isRequired,onBlur:l().func.isRequired,disabled:l().bool.isRequired,choices:l().arrayOf(l().shape(Bt)).isRequired,withExtraSlots:l().bool.isRequired,placesUsed:l().objectOf(l().number).isRequired,existingValue:l().objectOf(l().number).isRequired},Ii.propTypes={fieldId:l().number.isRequired,htmlId:l().string.isRequired,htmlName:l().string.isRequired,disabled:l().bool,isRequired:l().bool,choices:l().arrayOf(l().shape(Bt)).isRequired,maxChoices:l().number,withExtraSlots:l().bool,placesUsed:l().objectOf(l().number).isRequired},Ii.defaultProps={disabled:!1,isRequired:!1,maxChoices:null,withExtraSlots:!1};function ji(e){let{id:t,value:i,onChange:a,disabled:r,price:s,minValue:l,maxValue:o}=e;const d=(0,B.useSelector)(X),c=(i*s).toFixed(2);return n.createElement("div",{className:"events-registration-client-styles-___regform-module__number-field___LtuaG"},n.createElement("input",{id:t,type:"number",value:null!==i?i:"",min:l,max:o||void 0,disabled:r,onChange:e=>a(e.target.value?+e.target.value:null)}),!!s&&n.createElement(S.A,{pointing:"left",className:"events-registration-client-styles-___regform-module__price-tag___pz3tt"},s.toFixed(2)," ",d," (Total: ",c," ",d,")"))}function Si(e){let{htmlId:t,htmlName:i,disabled:a,isRequired:r,price:s,minValue:l,maxValue:o}=e;const d=r?u.validators.chain(u.validators.required,u.validators.number(),u.validators.range(l,o||1/0)):u.validators.chain(u.validators.optional(),u.validators.number(),u.validators.range(l,o||1/0));return n.createElement(u.FinalField,{id:t,name:i,component:ji,required:r,disabled:a,allowNull:!0,price:s,minValue:l,maxValue:o,parse:u.parsers.number,validate:d})}function ki(e){let{htmlId:t,htmlName:i,isRequired:a,disabled:r}=e;return n.createElement(u.FinalInput,{id:t,type:"tel",name:i,required:a,disabled:r})}ji.propTypes={id:l().string.isRequired,value:l().number,onChange:l().func.isRequired,disabled:l().bool.isRequired,price:l().number.isRequired,minValue:l().number.isRequired,maxValue:l().number},ji.defaultProps={value:null,maxValue:null},Si.propTypes={htmlId:l().string.isRequired,htmlName:l().string.isRequired,disabled:l().bool,isRequired:l().bool,price:l().number,minValue:l().number,maxValue:l().number},Si.defaultProps={disabled:!1,isRequired:!1,price:0,minValue:0,maxValue:0},ki.propTypes={htmlId:l().string.isRequired,htmlName:l().string.isRequired,isRequired:l().bool.isRequired,disabled:l().bool},ki.defaultProps={disabled:!1};const Ni=r.Ay.bind(null,{endpoint:"event_registration.manage_registration_file",rules:[{args:["event_id","field_data_id","filename","reg_form_id","registration_id"],converters:{event_id:"IntegerConverter",field_data_id:"IntegerConverter",reg_form_id:"IntegerConverter",registration_id:"IntegerConverter"},defaults:{},trace:[{data:"|",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"manage",isDynamic:!1},{data:"/",isDynamic:!1},{data:"registration",isDynamic:!1},{data:"/",isDynamic:!1},{data:"reg_form_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"registrations",isDynamic:!1},{data:"/",isDynamic:!1},{data:"registration_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"file",isDynamic:!1},{data:"/",isDynamic:!1},{data:"field_data_id",isDynamic:!0},{data:"-",isDynamic:!1},{data:"filename",isDynamic:!0}]}]},"/"),Mi=r.Ay.bind(null,{endpoint:"event_registration.registration_picture",rules:[{args:["event_id","field_data_id","filename","reg_form_id","registration_id"],converters:{event_id:"IntegerConverter",field_data_id:"IntegerConverter",reg_form_id:"IntegerConverter",registration_id:"IntegerConverter"},defaults:{},trace:[{data:"|",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"registrations",isDynamic:!1},{data:"/",isDynamic:!1},{data:"reg_form_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"registration_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"picture",isDynamic:!1},{data:"/",isDynamic:!1},{data:"field_data_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"filename",isDynamic:!0}]}]},"/"),Li=r.Ay.bind(null,{endpoint:"event_registration.upload_registration_picture",rules:[{args:["event_id","reg_form_id"],converters:{event_id:"IntegerConverter",reg_form_id:"IntegerConverter"},defaults:{},trace:[{data:"|",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"registrations",isDynamic:!1},{data:"/",isDynamic:!1},{data:"reg_form_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"upload-picture",isDynamic:!1}]}]},"/");function Ui(e){let{htmlName:t,disabled:i,isRequired:a,minPictureSize:r}=e;const{eventId:s,regformId:l,registrationUuid:o,fileData:d}=(0,B.useSelector)(Z),c=d&&d[t]||null,m=(0,B.useSelector)(Et),[u,_]=(0,n.useMemo)((()=>{const e=new URLSearchParams(location.search);return[e.get("invitation"),e.get("form_token")]}),[]),p=m?Ni:Mi,g={event_id:s,reg_form_id:l};o&&(g.token=o),u&&(g.invitation=u),_&&(g.form_token=_);const f=c?c.locator:null;return n.createElement("div",{className:"events-registration-client-styles-___regform-module__file-field___1Nup7"},n.createElement(M.FinalPictureManager,{name:t,disabled:i,required:a,uploadURL:Li(g),previewURL:f?p(f):"",initialPictureDetails:c,minPictureSize:r}))}function Bi(e){let{id:t,existingValue:i,value:a,onChange:r,disabled:s,isRequired:l,isPurged:d,choices:c,withExtraSlots:m,placesUsed:u}=e;const _=(0,B.useSelector)(Tt),p=(0,B.useSelector)(Et),g=(0,B.useSelector)(X),f=c.find((e=>e.id in a))||{},y=e=>e.price>0&&_,b=e=>!p&&y(e);let v=null;if(m&&f&&f.maxExtraSlots>0){const e=Oi()(1,f.maxExtraSlots+2).map((e=>({key:e,value:e,text:e,disabled:f.placesLimit>0&&(u[f.id]||0)-(i[f.id]||0)+e>f.placesLimit})));v=n.createElement(ft.A.Select,{id:t?`${t}-extraslots`:"",options:e,disabled:s||b(f)||f.placesLimit>0&&(u[f.id]||0)-(i[f.id]||0)>=f.placesLimit,value:a[f.id],onChange:(e,t)=>r({[f.id]:t.value}),fluid:!0})}const h=c.map((e=>({key:e.id,value:e.id,disabled:!e.isEnabled||b(e)||e.placesLimit>0&&(u[e.id]||0)>=e.placesLimit&&!i[e.id],text:e.caption,content:n.createElement("div",{className:"events-registration-client-styles-___regform-module__dropdown-text___GB4OB"},n.createElement("div",{className:"events-registration-client-styles-___regform-module__caption___u54ZN"},n.createElement(It,{choice:e,management:p,paid:y(e)})),n.createElement("div",{className:"events-registration-client-styles-___regform-module__labels___Zy8f7"},!!e.price&&n.createElement(S.A,null,e.price," ",g),0===e.placesLimit?null:n.createElement(Ht,{placesLimit:e.placesLimit,placesUsed:u[e.id]||0,isEnabled:e.isEnabled})))})));return n.createElement(ft.A.Group,{className:"events-registration-client-styles-___regform-module__single-choice-dropdown___tzmJ5"},n.createElement(ft.A.Field,null,n.createElement(q.A,{id:t,selection:!0,style:{width:500,opacity:1},placeholder:o.Translate.string("Choose an option"),options:h,disabled:s,value:!d&&f.id||"",onChange:(e,t)=>r(t.value?{[t.value]:1}:{}),clearable:!l,search:!0,selectOnNavigation:!1,selectOnBlur:!1})),v,v&&!!f.price&&n.createElement(S.A,{pointing:"left"},o.Translate.string("Total: {total} {currency}",{total:((f.extraSlotsPay?a[f.id]:1)*f.price).toFixed(2),currency:g})))}function Yi(e){let{id:t,existingValue:i,value:a,onChange:r,disabled:s,isRequired:l,isPurged:d,choices:c,withExtraSlots:m,placesUsed:u}=e;const _=(0,B.useSelector)(Tt),p=(0,B.useSelector)(Et),g=(0,B.useSelector)(X),f=c.find((e=>e.id in a))||{id:""},y=[...c];l||y.unshift({id:"",isEnabled:!0,caption:o.Translate.string("None")});const b=e=>e.price>0&&_,v=e=>!p&&b(e);return n.createElement("table",{className:"events-registration-client-js-form-fields-___table-module__choice-table___nw5lF",role:"presentation"},n.createElement("tbody",null,y.map(((e,l)=>{return n.createElement("tr",{key:e.id,className:"events-registration-client-js-form-fields-___table-module__row___kh-Ns"},n.createElement("td",null,n.createElement(ft.A.Radio,{id:t?`${t}-${l}`:"",style:{pointerEvents:"auto"},className:"events-registration-client-js-form-fields-___table-module__radio___wfFj9",label:{children:n.createElement(It,{choice:e,management:p,paid:b(e)})},key:e.id,value:e.id,disabled:!e.isEnabled||s||v(e)||e.placesLimit>0&&(u[e.id]||0)-(i[e.id]||0)>=e.placesLimit,checked:!d&&(c=e,c.id===f.id),onChange:()=>{return t=e.id,void r(""===t?{}:{[t]:1});var t}})),n.createElement("td",null,e.isEnabled&&!!e.price&&n.createElement(S.A,{pointing:"left"},e.price.toFixed(2)," ",g)),n.createElement("td",null,""!==e.id&&0!==e.placesLimit&&n.createElement(Ht,{placesLimit:e.placesLimit,placesUsed:u[e.id]||0,isEnabled:!s&&e.isEnabled&&!v(e)})),m&&!!e.maxExtraSlots&&f.id===e.id&&n.createElement(n.Fragment,null,n.createElement("td",null,e.isEnabled&&n.createElement(q.A,{id:t?`${t}-extraslot`:"",selection:!0,className:"events-registration-client-js-form-fields-___table-module__dropdown___EZd1Q",disabled:s||v(e)||e.placesLimit>0&&(u[e.id]||0)-(i[e.id]||0)>=e.placesLimit,value:a[f.id],onChange:(e,t)=>r({[f.id]:t.value}),options:Oi()(1,e.maxExtraSlots+2).map((e=>({key:e,value:e,text:e,disabled:f.placesLimit>0&&(u[f.id]||0)-(i[f.id]||0)+e>f.placesLimit})))})),n.createElement("td",null,e.isEnabled&&!!e.price&&n.createElement(S.A,{pointing:"left"},o.Translate.string("Total: {total} {currency}",{total:(a[f.id]*e.price).toFixed(2),currency:g})))));var c}))))}function $i(e){let{id:t,existingValue:i,value:a,onChange:r,disabled:s,isRequired:l,isPurged:o,itemType:d,choices:c,withExtraSlots:m,placesUsed:u}=e,_=null;if("dropdown"===d)_=n.createElement(Bi,{id:t,value:a,existingValue:i,onChange:r,disabled:s,isRequired:l,isPurged:o,choices:c,withExtraSlots:m,placesUsed:u});else{if("radiogroup"!==d)return`ERROR: Unknown type ${d}`;_=n.createElement(Yi,{id:t,value:a,existingValue:i,onChange:r,disabled:s,isRequired:l,isPurged:o,choices:c,withExtraSlots:m,placesUsed:u})}return _}function zi(e){let{fieldId:t,htmlId:i,htmlName:a,disabled:r,isRequired:s,isPurged:l,itemType:d,choices:c,withExtraSlots:m,placesUsed:_}=e;const p=(0,B.useSelector)((e=>At(e,t)))||{};return n.createElement(u.FinalField,{id:i,name:a,component:$i,format:e=>e||{},required:s,isRequired:s,validate:e=>!s||e&&Object.keys(e).length?void 0:o.Translate.string("This field is required."),disabled:r,isPurged:l,itemType:d,choices:c,withExtraSlots:m,placesUsed:_,existingValue:p,isEqual:Pt()})}Ui.propTypes={htmlName:l().string.isRequired,disabled:l().bool,isRequired:l().bool,minPictureSize:l().number},Ui.defaultProps={disabled:!1,isRequired:!1,minPictureSize:null},Bi.propTypes={id:l().string.isRequired,value:l().object.isRequired,onChange:l().func.isRequired,disabled:l().bool.isRequired,isRequired:l().bool.isRequired,isPurged:l().bool.isRequired,choices:l().arrayOf(l().shape(Bt)).isRequired,withExtraSlots:l().bool.isRequired,placesUsed:l().objectOf(l().number).isRequired,existingValue:l().objectOf(l().number).isRequired},Yi.propTypes={id:l().string.isRequired,value:l().object.isRequired,onChange:l().func.isRequired,disabled:l().bool.isRequired,isRequired:l().bool.isRequired,isPurged:l().bool.isRequired,choices:l().arrayOf(l().shape(Bt)).isRequired,withExtraSlots:l().bool.isRequired,placesUsed:l().objectOf(l().number).isRequired,existingValue:l().objectOf(l().number).isRequired},$i.propTypes={id:l().string.isRequired,disabled:l().bool.isRequired,isRequired:l().bool.isRequired,isPurged:l().bool.isRequired,itemType:l().oneOf(["dropdown","radiogroup"]).isRequired,choices:l().arrayOf(l().shape(Bt)).isRequired,withExtraSlots:l().bool.isRequired,placesUsed:l().objectOf(l().number).isRequired,existingValue:l().objectOf(l().number).isRequired},zi.propTypes={fieldId:l().number.isRequired,htmlId:l().string.isRequired,htmlName:l().string.isRequired,disabled:l().bool,isRequired:l().bool,isPurged:l().bool.isRequired,itemType:l().oneOf(["dropdown","radiogroup"]).isRequired,choices:l().arrayOf(l().shape(Bt)).isRequired,withExtraSlots:l().bool,placesUsed:l().objectOf(l().number).isRequired},zi.defaultProps={disabled:!1,isRequired:!1,withExtraSlots:!1};const Hi=(0,jt.A)({field:"choices",updates:(e,t,i)=>{let{defaultItem:n}=i;return e.some((e=>e.id===n&&e.isEnabled))?{}:{defaultItem:null}}});function Vi(e,t,i){const n={};return Object.entries(t).forEach((t=>{let[a,r]=t;const s=e[a];null===s&&a in i?n[r]=i[a]:s>0&&(n[r]=s)})),n}const Ji=["htmlId","htmlName","disabled","title","isRequired"],Gi={numberOfRows:"rows"};function Zi(e){let{htmlId:t,htmlName:i,disabled:a,title:r,isRequired:s}=e;const l=Vi((0,w.A)(e,Ji),Gi,Zi.defaultProps);return n.createElement(u.FinalTextArea,(0,T.A)({id:t,name:i},l,{disabled:a,required:s,style:{resize:"none"}}))}Zi.propTypes={htmlId:l().string.isRequired,htmlName:l().string.isRequired,disabled:l().bool,numberOfRows:l().number,title:l().string.isRequired,isRequired:l().bool.isRequired},Zi.defaultProps={disabled:!1,numberOfRows:2};const Ki=["htmlId","htmlName","disabled","title","isRequired"],Wi={minLength:"minLength",maxLength:"maxLength"};function Qi(e){let{htmlId:t,htmlName:i,disabled:a,title:r,isRequired:s}=e;const l=Vi((0,w.A)(e,Ki),Wi,Qi.defaultProps);return n.createElement(u.FinalInput,(0,T.A)({id:t,type:"text",name:i},l,{required:s,disabled:a}))}Qi.propTypes={htmlId:l().string.isRequired,htmlName:l().string.isRequired,disabled:l().bool,title:l().string.isRequired,isRequired:l().bool.isRequired,minLength:l().number,maxLength:l().number},Qi.defaultProps={disabled:!1,minLength:0,maxLength:0};var Xi=i(16571),en=i.n(Xi),tn=i(75313),nn=i(69655),an=i(71612);const rn=["value","name","sessionData","onChange","onFocus","onBlur","collapseDays","minimum","maximum"];function sn(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function ln(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?sn(Object(i),!0).forEach((function(t){(0,z.A)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):sn(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const on=r.Ay.bind(null,{endpoint:"event_registration.api_session_blocks",rules:[{args:["event_id"],converters:{event_id:"IntegerConverter"},defaults:{},trace:[{data:"|",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"api",isDynamic:!1},{data:"/",isDynamic:!1},{data:"registration",isDynamic:!1},{data:"/",isDynamic:!1},{data:"session-blocks",isDynamic:!1}]}]},"/"),dn=l().arrayOf(l().shape({id:l().number.isRequired,fullTitle:l().string.isRequired,time:l().string.isRequired}));function cn(e){let{value:t,name:i,sessionData:a,onChange:r,onFocus:s,onBlur:l,collapseDays:o,minimum:d,maximum:c}=e,m=(0,w.A)(e,rn);const[u,_]=(0,n.useState)({});(0,n.useEffect)((()=>{_(Object.fromEntries(Object.keys(a||{}).map((e=>[e,!o]))))}),[a,o]);const p=(0,n.useMemo)((()=>a?new Set(Object.values(a).flat().map((e=>e.id))):[]),[a]),g=e=>{r(e.filter((e=>p.has(e))))},f=(e,i)=>{s(),l();const n=i.value,a=en()(t,[n]);g(a)},y=e=>()=>{_(ln(ln({},u),{},{[e]:!u[e]}))};return n.createElement(ft.A.Group,{className:"events-registration-client-styles-___regform-module__timetablesessions-field___t1Ljf"},n.createElement(tn.A,{styled:!0,exclusive:!1},a&&Object.keys(a).map(((e,r)=>{var s;return n.createElement(mn,{value:t,index:r,name:i,data:a[e],label:Ft()(e).format("dddd ll"),isExpanded:null!==(s=u[e])&&void 0!==s&&s,key:e,handleValueChange:f,onChange:g,onClick:y(e),props:m})}))))}function mn(e){let{value:t,index:i,data:a,label:r,isExpanded:s,handleValueChange:l,onChange:d,onClick:c}=e;const m=a.map((e=>e.id)),u=m.every((e=>t.includes(e))),_=m.some((e=>t.includes(e))),p=t.filter((e=>m.includes(e))).length;return n.createElement(n.Fragment,null,n.createElement(nn.A,{active:s,index:i,onClick:c},n.createElement(E.A,{name:"dropdown"}),n.createElement(Pi.A,{checked:u,onChange:function(e){e.stopPropagation();const i=u||_?t.filter((e=>!m.includes(e))):[...t,...m];d(i)},indeterminate:_&&!u,label:r}),n.createElement("span",null,"(",n.createElement(o.PluralTranslate,{count:p},n.createElement(o.Singular,null,n.createElement(o.Param,{name:"selectedBlocks",value:p})," block selected)"),n.createElement(o.Plural,null,n.createElement(o.Param,{name:"selectedBlocks",value:p})," blocks selected)")))),n.createElement(an.A,{active:s},a.map((e=>{let{time:i,fullTitle:a,id:r}=e;return n.createElement("dd",{className:"grouped-fields",key:r},n.createElement(Pi.A,{value:r,onChange:l,checked:t.includes(r),label:`${i} - ${a}`}))}))))}function un(e){let{htmlId:t,htmlName:i,disabled:a,isRequired:r,collapseDays:s,minimum:l,maximum:d}=e;const{eventId:c}=(0,B.useSelector)(Z),m=(0,B.useSelector)(Et),{data:p}=(0,_.Ku)({url:on({event_id:c,force_event_tz:m})},{camelize:!0}),g=o.PluralTranslate.string("Please select at least {minimum} session block","Please select at least {minimum} session blocks",l,{minimum:l}),f=o.PluralTranslate.string("Please select no more than {maximum} session block","Please select no more than {maximum} session blocks",d,{maximum:d});return n.createElement(u.FinalField,{id:t,name:i,component:cn,disabled:a,required:r,collapseDays:s,minimum:l,maximum:d,sessionData:p,validate:e=>0!==l&&e.length<l?g:0!==d&&e.length>d?f:void 0})}cn.propTypes={value:l().arrayOf(l().number).isRequired,name:l().string.isRequired,sessionData:l().objectOf(dn),onChange:l().func.isRequired,onFocus:l().func.isRequired,onBlur:l().func.isRequired,collapseDays:l().bool.isRequired,maximum:l().number.isRequired,minimum:l().number.isRequired},cn.defaultProps={sessionData:{}},mn.propTypes={value:l().arrayOf(l().number).isRequired,index:l().number.isRequired,data:dn.isRequired,label:l().string.isRequired,isExpanded:l().bool.isRequired,handleValueChange:l().func.isRequired,onChange:l().func.isRequired,onClick:l().func.isRequired},un.propTypes={htmlId:l().string.isRequired,htmlName:l().string.isRequired,isRequired:l().bool.isRequired,disabled:l().bool,collapseDays:l().bool,minimum:l().number,maximum:l().number},un.defaultProps={disabled:!1,collapseDays:!1,minimum:0,maximum:0};const _n=["name"];function pn(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function gn(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?pn(Object(i),!0).forEach((function(t){(0,z.A)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):pn(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const fn={label:{title:o.Translate.string("Label"),inputComponent:wi,noRequired:!0,noRetentionPeriod:!0,noLabel:!0,icon:"tag",customFormItem:!0},text:{title:o.Translate.string("Text field"),inputComponent:Qi,settingsComponent:function(){return n.createElement(ft.A.Group,{widths:"equal"},n.createElement(u.FinalInput,{name:"minLength",type:"number",label:o.Translate.string("Min. length"),placeholder:String(Qi.defaultProps.minLength),step:"1",min:"0",validate:u.validators.optional(u.validators.chain((e=>0===e?u.validators.STOP_VALIDATION:1===e?o.Translate.string('If you want to make the field required, select the "Required field" checkbox. The minimum length only applies if the field is not empty.'):void 0),u.validators.min(2))),format:e=>e||"",parse:e=>+e||0,fluid:!0}),n.createElement(u.FinalInput,{name:"maxLength",type:"number",label:o.Translate.string("Max. length"),placeholder:o.Translate.string("No maximum"),step:"1",min:"0",validate:u.validators.optional(u.validators.min(0)),format:e=>e||"",parse:e=>+e||0,fluid:!0}))},settingsFormValidator:function(e){let{minLength:t,maxLength:i}=e;if(t&&i&&t>i){const e=o.Translate.string("The minimum length cannot be greater than the maximum length.");return{minLength:e,maxLength:e}}},icon:"textfield"},textarea:{title:o.Translate.string("Text area"),inputComponent:Zi,settingsComponent:function(){return n.createElement(ft.A.Group,{widths:"equal"},n.createElement(u.FinalInput,{name:"numberOfRows",type:"number",label:o.Translate.string("Rows"),placeholder:String(Zi.defaultProps.numberOfRows),step:"1",min:"1",max:"20",validate:u.validators.optional(u.validators.range(1,20)),fluid:!0}))},icon:"textarea"},number:{title:o.Translate.string("Number"),inputComponent:Si,settingsComponent:function(){return n.createElement(ft.A.Group,{widths:"equal"},n.createElement(u.FinalInput,{name:"minValue",type:"number",label:o.Translate.string("Minimum"),placeholder:String(Si.defaultProps.minValue),step:"1",min:"0",validate:u.validators.optional(u.validators.min(0)),format:e=>e||"",parse:e=>+e||0,fluid:!0}),n.createElement(u.FinalInput,{name:"maxValue",type:"number",label:o.Translate.string("Maximum"),placeholder:o.Translate.string("No maximum"),step:"1",min:"0",validate:u.validators.optional(u.validators.min(0)),format:e=>e||"",parse:e=>+e||0,fluid:!0}))},settingsFormValidator:function(e){let{minValue:t,maxValue:i}=e;if(t&&i&&t>i){const e=o.Translate.string("The minimum value cannot be greater than the maximum value.");return{minValue:e,maxValue:e}}},hasPrice:!0,icon:"seven-segment9"},checkbox:{title:o.Translate.string("Checkbox"),inputComponent:si,settingsComponent:function(){return n.createElement(u.FinalInput,{name:"placesLimit",type:"number",label:o.Translate.string("Places limit"),placeholder:o.Translate.string("None"),step:"1",min:"1",validate:u.validators.optional(u.validators.min(0)),parse:e=>""===e?0:+e,format:e=>0===e?"":e})},noLabel:!0,hasPrice:!0,icon:"checkbox-checked",customFormItem:!0},date:{title:o.Translate.string("Date"),inputComponent:yi,settingsComponent:function(){const e=["%d/%m/%Y","%d.%m.%Y","%m/%d/%Y","%m.%d.%Y","%Y/%m/%d","%Y.%m.%d","%m/%Y","%m.%Y","%Y"].map((e=>({key:e,value:e,text:e.replace(/%([HMdmY])/g,((e,t)=>({H:"hh",M:"mm",d:"DD",m:"MM",Y:"YYYY"}[t])))}))),t=[{key:"12h",value:"12h",text:o.Translate.string("12 hours")},{key:"24h",value:"24h",text:o.Translate.string("24 hours")}];return n.createElement(ft.A.Group,{widths:"equal"},n.createElement(u.FinalDropdown,{name:"dateFormat",label:o.Translate.string("Date format"),options:e,required:!0,selection:!0,fluid:!0}),n.createElement(nt.Field,{name:"dateFormat",subscription:{value:!0}},(e=>{let{input:{value:i}}=e;return n.createElement(u.FinalDropdown,{name:"timeFormat",label:o.Translate.string("Time format"),options:t,placeholder:o.Translate.string("None"),disabled:!i.includes("%d"),parse:u.parsers.nullIfEmpty,selection:!0,fluid:!0})})))},settingsFormDecorators:[bi],settingsFormInitialData:{dateFormat:"%d/%m/%Y",timeFormat:null},icon:"calendar"},bool:{title:o.Translate.string("Yes/No"),inputComponent:ai,settingsComponent:function(){const e=[{key:!0,value:!0,text:o.Translate.string("Yes")},{key:!1,value:!1,text:o.Translate.string("No")}];return n.createElement(n.Fragment,null,n.createElement(u.FinalInput,{name:"placesLimit",type:"number",label:o.Translate.string("Places limit"),placeholder:o.Translate.string("None"),step:"1",min:"1",validate:u.validators.optional(u.validators.min(0)),parse:e=>""===e?0:+e,format:e=>0===e?"":e}),n.createElement(u.FinalDropdown,{name:"defaultValue",label:o.Translate.string("Default value"),options:e,placeholder:o.Translate.string("None"),selection:!0}))},hasPrice:!0,icon:"switchon",renderAsFieldset:!0},phone:{title:o.Translate.string("Phone"),inputComponent:ki,icon:"phone"},country:{title:o.Translate.string("Country"),inputComponent:ci,settingsComponent:mi,icon:"earth"},file:{title:o.Translate.string("File"),inputComponent:Ti,icon:"upload",renderAsFieldset:!0},email:{title:o.Translate.string("Email"),inputComponent:Di,icon:"mail"},single_choice:{title:o.Translate.string("Single Choice"),inputComponent:zi,settingsComponent:function(){return n.createElement(n.Fragment,null,n.createElement(u.FinalDropdown,{name:"itemType",label:o.Translate.string("Widget type"),options:[{key:"dropdown",value:"dropdown",text:o.Translate.string("Drop-down list")},{key:"radiogroup",value:"radiogroup",text:o.Translate.string("Radio buttons")}],selection:!0,required:!0}),n.createElement(nt.Field,{name:"choices",subscription:{value:!0},isEqual:Pt()},(e=>{let{input:{value:t}}=e;return n.createElement(u.FinalDropdown,{name:"defaultItem",label:o.Translate.string("Default option"),options:t.filter((e=>e.isEnabled)).map((e=>({key:e.id,value:e.id,text:e.caption}))),disabled:!t.some((e=>e.isEnabled)),parse:u.parsers.nullIfEmpty,selection:!0})})),n.createElement(u.FinalCheckbox,{name:"withExtraSlots",label:o.Translate.string("Enable extra slots")}),n.createElement(nt.Field,{name:"withExtraSlots",subscription:{value:!0}},(e=>{let{input:{value:t}}=e;return n.createElement(u.FinalField,{name:"choices",label:o.Translate.string("Choices"),component:Yt,withExtraSlots:t,isEqual:Pt(),required:!0})})))},settingsModalSize:"small",settingsFormDecorators:[$t,Hi],settingsFormInitialData:{choices:[],itemType:"dropdown",defaultItem:null,withExtraSlots:!1},icon:"dropmenu",renderAsFieldset:!0},multi_choice:{title:o.Translate.string("Multiple Choice"),inputComponent:Ii,settingsComponent:function(){return n.createElement(n.Fragment,null,n.createElement(nt.Field,{name:"choices",subscription:{value:!0}},(e=>{let{input:{value:t}}=e;const i=t.length>0?1:0,a=t.length>0?t.length:0;return n.createElement(u.FinalInput,{name:"maxChoices",type:"number",placeholder:o.Translate.string("Unlimited","Number of choices"),step:"1",min:i,max:a,validate:u.validators.optional(u.validators.range(i,a)),label:o.Translate.string("Maximum number of choices"),description:o.Translate.string("Maximum number of choices that can be selected. Leave empty to unset.")})})),n.createElement(u.FinalCheckbox,{name:"withExtraSlots",label:o.Translate.string("Enable extra slots")}),n.createElement(nt.Field,{name:"withExtraSlots",subscription:{value:!0}},(e=>{let{input:{value:t}}=e;return n.createElement(u.FinalField,{name:"choices",label:o.Translate.string("Choices"),component:Yt,withExtraSlots:t,isEqual:Pt(),required:!0})})))},settingsModalSize:"small",settingsFormDecorators:[$t],settingsFormInitialData:{choices:[],withExtraSlots:!1},icon:"list",renderAsFieldset:!0},accommodation:{title:o.Translate.string("Accommodation"),inputComponent:Zt,settingsComponent:function(){return n.createElement(n.Fragment,null,n.createElement(M.FinalDatePeriod,{name:"arrival",label:o.Translate.string("Arrival"),disabledDate:()=>!1,extraPickerProps:{noBorder:!0},required:!0}),n.createElement(M.FinalDatePeriod,{name:"departure",label:o.Translate.string("Departure"),disabledDate:()=>!1,extraPickerProps:{noBorder:!0},required:!0}),n.createElement(u.FinalField,{name:"choices",label:o.Translate.string("Choices"),component:Yt,isEqual:Pt(),forAccommodation:!0,required:!0,validate:e=>{if(!e.some((e=>e.isEnabled)))return o.Translate.string("You need to have at least one enabled option.")}}))},settingsModalSize:"small",settingsFormDecorators:[$t],settingsFormInitialData:e=>({choices:[{id:"new:no-accommodation",caption:"No accommodation",isEnabled:!0,isNoAccommodation:!0,price:0,placesLimit:0}],arrival:{startDate:(0,xt.serializeDate)((0,xt.toMoment)(e.eventStartDate,Ft().HTML5_FMT.DATE).subtract(2,"days")),endDate:(0,xt.serializeDate)((0,xt.toMoment)(e.eventEndDate,Ft().HTML5_FMT.DATE))},departure:{startDate:(0,xt.serializeDate)((0,xt.toMoment)(e.eventStartDate,Ft().HTML5_FMT.DATE).add(1,"days")),endDate:(0,xt.serializeDate)((0,xt.toMoment)(e.eventEndDate,Ft().HTML5_FMT.DATE).add(3,"days"))}}),settingsFormValidator:function(e){let{arrival:t,departure:i}=e;const n=(0,xt.toMoment)(t.startDate,Ft().HTML5_FMT.DATE),a=(0,xt.toMoment)(t.endDate,Ft().HTML5_FMT.DATE),r=(0,xt.toMoment)(i.startDate,Ft().HTML5_FMT.DATE),s=(0,xt.toMoment)(i.endDate,Ft().HTML5_FMT.DATE),l={};if(n&&a&&r&&s)return r.isBefore(n)&&(l.departure=o.Translate.string("The departure period cannot begin before the arrival period.")),a.isAfter(s)&&(l.arrival=o.Translate.string("The arrival period cannot end after the departure period.")),l},noRequired:!0,alwaysRequired:!0,icon:"home",renderAsFieldset:!0},accompanying_persons:{title:o.Translate.string("Accompanying Persons"),inputComponent:ti,settingsComponent:function(){return n.createElement(n.Fragment,null,n.createElement(u.FinalInput,{name:"maxPersons",type:"number",label:o.Translate.string("Maximum per registrant"),placeholder:o.Translate.string("No maximum"),step:"1",min:"0",validate:u.validators.optional(u.validators.min(0)),fluid:!0,format:e=>e||"",parse:e=>+e||0}),n.createElement(u.FinalCheckbox,{name:"personsCountAgainstLimit",label:o.Translate.string("Accompanying persons count against registration limit")}))},settingsFormInitialData:{maxPersons:1,personsCountAgainstLimit:!1},settingsModalSize:"tiny",noRequired:!0,hasPrice:!0,icon:"user",renderAsFieldset:!0},picture:{title:o.Translate.string("Picture"),inputComponent:Ui,icon:"image",settingsComponent:function(){return n.createElement(u.FinalInput,{name:"minPictureSize",type:"number",label:o.Translate.string("Minimum picture size"),placeholder:o.Translate.string("Unlimited"),description:o.Translate.string("Minimum picture size that can be uploaded in pixels. Leave empty for no min size validation."),step:"1",min:"0",max:"1000",validate:u.validators.optional(u.validators.min(0)),fluid:!0,format:e=>e||"",parse:e=>+e||0})}},sessions:{title:o.Translate.string("Timetable Sessions"),inputComponent:un,settingsComponent:function(){return n.createElement(n.Fragment,null,n.createElement(u.FinalCheckbox,{name:"collapseDays",label:o.Translate.string("Collapse days"),toggle:!0}),n.createElement(u.FinalInput,{name:"minimum",type:"number",label:o.Translate.string("Minimum number of choices"),placeholder:o.Translate.string("No minimum"),step:"1",min:"0",validate:u.validators.optional(u.validators.min(0)),format:e=>e||"",parse:e=>+e||0,fluid:!0}),n.createElement(u.FinalInput,{name:"maximum",type:"number",label:o.Translate.string("Maximum number of choices"),placeholder:o.Translate.string("No maximum"),step:"1",min:"0",validate:u.validators.optional(u.validators.min(0)),format:e=>e||"",parse:e=>+e||0,fluid:!0}))},settingsFormInitialData:{collapse_days:!1,minimum:0,maximum:0},settingsFormValidator:function(e){let{minimum:t,maximum:i}=e;if(t&&i&&t>i){const e=o.Translate.string("The minimum value cannot be greater than the maximum value.");return{minimum:e,maximum:e}}},noRequired:!0,hasPrice:!1,icon:"calendar-day",renderAsFieldset:!0}};function yn(){const e=Object.fromEntries((0,bt.getPluginObjects)("regformCustomFields").map((e=>{let{name:t}=e;return[t,(0,w.A)(e,_n)]})));if(Object.entries(e).some((e=>{let[t,i]=e;return!(t.startsWith("ext__")||i.unsafeOverrideField&&fn[t])})))throw new Error("Field names from plugins must begin with `ext__` or match an existing field name and set the `unsafeOverrideField` property to true");return gn(gn({},fn),e)}const bn=["id","title","description","retentionPeriod","inputType","isEnabled","isRequired","isPurged","lockedReason","sortHandle","setupMode","setupActions"],vn={"../../styles/regform.module.scss":{"setup-toolbar":"events-registration-client-styles-___regform-module__setup-toolbar___tu1Kv","disabled-sections":"events-registration-client-styles-___regform-module__disabled-sections___TthNB",actions:"events-registration-client-styles-___regform-module__actions___yuXgO","form-item":"events-registration-client-styles-___regform-module__form-item___AlbiE",disabled:"events-registration-client-styles-___regform-module__disabled___A4p+q",content:"events-registration-client-styles-___regform-module__content___dKw31","paid-disabled":"events-registration-client-styles-___regform-module__paid-disabled___e8zT-","purged-disabled":"events-registration-client-styles-___regform-module__purged-disabled___oo16L",label:"events-registration-client-styles-___regform-module__label___t11lD",field:"events-registration-client-styles-___regform-module__field___mpG7J","price-tag":"events-registration-client-styles-___regform-module__price-tag___pz3tt","places-left":"events-registration-client-styles-___regform-module__places-left___6O4Ev",greyed:"events-registration-client-styles-___regform-module__greyed___HZLen","number-field":"events-registration-client-styles-___regform-module__number-field___LtuaG","boolean-field":"events-registration-client-styles-___regform-module__boolean-field___0geJs","date-field":"events-registration-client-styles-___regform-module__date-field___LToLh","file-field":"events-registration-client-styles-___regform-module__file-field___1Nup7","accommodation-field":"events-registration-client-styles-___regform-module__accommodation-field___WHQ+0","date-picker":"events-registration-client-styles-___regform-module__date-picker___zVaWU","accompanyingpersons-field":"events-registration-client-styles-___regform-module__accompanyingpersons-field___MUvS6",light:"events-registration-client-styles-___regform-module__light___gdy5g",summary:"events-registration-client-styles-___regform-module__summary___Krn7Y","timetablesessions-field":"events-registration-client-styles-___regform-module__timetablesessions-field___t1Ljf","country-dropdown":"events-registration-client-styles-___regform-module__country-dropdown___Hhf-Y","single-choice-dropdown":"events-registration-client-styles-___regform-module__single-choice-dropdown___tzmJ5","dropdown-text":"events-registration-client-styles-___regform-module__dropdown-text___GB4OB",caption:"events-registration-client-styles-___regform-module__caption___u54ZN",labels:"events-registration-client-styles-___regform-module__labels___Zy8f7","single-choice-radio-group":"events-registration-client-styles-___regform-module__single-choice-radio-group___E9qIt",description:"events-registration-client-styles-___regform-module__description___abkAU",editable:"events-registration-client-styles-___regform-module__editable___ZHQMz","sortable-handle":"events-registration-client-styles-___regform-module__sortable-handle___yz1-x","header-wrapper":"events-registration-client-styles-___regform-module__header-wrapper___U6gJN","section-sortable-handle":"events-registration-client-styles-___regform-module__section-sortable-handle___ABMeH","manager-only":"events-registration-client-styles-___regform-module__manager-only___PQwvG","section-actions":"events-registration-client-styles-___regform-module__section-actions___p3bRe","dropdown-menu":"events-registration-client-styles-___regform-module__dropdown-menu___9uq+D","dropdown-item":"events-registration-client-styles-___regform-module__dropdown-item___chpZW"}};function hn(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Dn(e){let{management:t}=e;const i=n.createElement(o.Translate,null,"This field is locked since changing it could trigger a price change."),a=t?n.createElement(n.Fragment,null,i," ",n.createElement(o.Translate,null,"As a manager you can modify it nonetheless.")):i;return n.createElement(st.A,{trigger:n.createElement(E.A,{name:t?"lock open":"lock"})},a)}function En(e){let{isUpdateMode:t}=e;const i=n.createElement(o.Translate,null,"This field is locked due to an expired retention period."),a=t?n.createElement(n.Fragment,null,i," ",n.createElement(o.Translate,null,"The associated registration data has been deleted.")):i;return n.createElement(st.A,{trigger:n.createElement(E.A,{name:"lock"})},a)}function Tn(e){let{reason:t}=e;return n.createElement(st.A,{trigger:n.createElement(E.A,{name:"lock"})},t)}function wn(e){let{id:t,title:i,description:a,retentionPeriod:r,inputType:s,isEnabled:l,isRequired:d,isPurged:c,lockedReason:m,sortHandle:u,setupMode:_,setupActions:p}=e,g=(0,w.A)(e,bn);const f=(0,B.useSelector)((e=>Rt(e,t))),y=(0,B.useSelector)(Et),b=(0,B.useSelector)(vt),v=yn()[s]||{},h=v.inputComponent,D=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?hn(Object(i),!0).forEach((function(t){(0,z.A)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):hn(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({title:i,description:a,isEnabled:l,fieldId:t},g),q=!_&&c,A=!l||q||!!m||f&&!y;let R=null;_&&r&&(R=n.createElement(E.A,{name:"clock outline",color:"red",style:{marginLeft:"3px"},title:o.PluralTranslate.string("Field data will be purged {retentionPeriod} week after the event ended.","Field data will be purged {retentionPeriod} weeks after the event ended.",r,{retentionPeriod:r})}));const O=v.alwaysRequired||d,P=!y&&O,C=`input-${D.fieldId}`,F=h&&!v.customFormItem?n.createElement(n.Fragment,null,R,n.createElement(h,(0,T.A)({isRequired:P,disabled:A,isPurged:q,htmlId:C},D))):null;return n.createElement("div",{className:(0,gt.A)(`form-item ${(0,yt.toClasses)({disabled:!l||f,"purged-disabled":q,"paid-disabled":!q&&f,editable:_})}`,vn,{autoResolveMultipleImports:!0,handleMissingStyleName:"throw"})},u,n.createElement("div",{className:"events-registration-client-styles-___regform-module__content___dKw31"},h?v.customFormItem?n.createElement(h,(0,T.A)({showAsRequired:O,isRequired:P,disabled:A,isPurged:q,retentionPeriodIcon:R,htmlId:C},D)):n.createElement(ft.A.Field,{required:O,className:"events-registration-client-styles-___regform-module__field___mpG7J"},v.renderAsFieldset?n.createElement("fieldset",null,n.createElement("legend",{style:{opacity:A?.8:1,display:"inline-block"}},i),F):n.createElement(n.Fragment,null,n.createElement("label",{htmlFor:C,style:{opacity:A?.8:1,display:"inline-block"}},i),F)):`Unknown input type: ${s}`,a&&n.createElement("div",{className:"events-registration-client-styles-___regform-module__description___abkAU"},n.createElement(yt.Markdown,null,a)),(0,bt.renderPluginComponents)(`regform-${s}-field-item`,D)),p&&n.createElement("div",{className:"events-registration-client-styles-___regform-module__actions___yuXgO"},p),m&&n.createElement(Tn,{reason:m}),!m&&q&&n.createElement(En,{isUpdateMode:b}),!m&&!q&&f&&n.createElement(Dn,{management:y}))}Dn.propTypes={management:l().bool.isRequired},En.propTypes={isUpdateMode:l().bool.isRequired},Tn.propTypes={reason:l().string.isRequired},wn.propTypes={id:l().number.isRequired,title:l().string.isRequired,description:l().string.isRequired,isEnabled:l().bool.isRequired,position:l().number.isRequired,isRequired:l().bool,isPurged:l().bool.isRequired,lockedReason:l().string,retentionPeriod:l().number,fieldIsPersonalData:l().bool,fieldIsRequired:l().bool,htmlName:l().string,inputType:l().string.isRequired,sortHandle:l().node,setupMode:l().bool,setupActions:l().node},wn.defaultProps={fieldIsPersonalData:!1,fieldIsRequired:!1,isRequired:!1,lockedReason:"",retentionPeriod:null,htmlName:null,sortHandle:null,setupMode:!1,setupActions:null};const qn={"../../styles/regform.module.scss":{"setup-toolbar":"events-registration-client-styles-___regform-module__setup-toolbar___tu1Kv","disabled-sections":"events-registration-client-styles-___regform-module__disabled-sections___TthNB",actions:"events-registration-client-styles-___regform-module__actions___yuXgO","form-item":"events-registration-client-styles-___regform-module__form-item___AlbiE",disabled:"events-registration-client-styles-___regform-module__disabled___A4p+q",content:"events-registration-client-styles-___regform-module__content___dKw31","paid-disabled":"events-registration-client-styles-___regform-module__paid-disabled___e8zT-","purged-disabled":"events-registration-client-styles-___regform-module__purged-disabled___oo16L",label:"events-registration-client-styles-___regform-module__label___t11lD",field:"events-registration-client-styles-___regform-module__field___mpG7J","price-tag":"events-registration-client-styles-___regform-module__price-tag___pz3tt","places-left":"events-registration-client-styles-___regform-module__places-left___6O4Ev",greyed:"events-registration-client-styles-___regform-module__greyed___HZLen","number-field":"events-registration-client-styles-___regform-module__number-field___LtuaG","boolean-field":"events-registration-client-styles-___regform-module__boolean-field___0geJs","date-field":"events-registration-client-styles-___regform-module__date-field___LToLh","file-field":"events-registration-client-styles-___regform-module__file-field___1Nup7","accommodation-field":"events-registration-client-styles-___regform-module__accommodation-field___WHQ+0","date-picker":"events-registration-client-styles-___regform-module__date-picker___zVaWU","accompanyingpersons-field":"events-registration-client-styles-___regform-module__accompanyingpersons-field___MUvS6",light:"events-registration-client-styles-___regform-module__light___gdy5g",summary:"events-registration-client-styles-___regform-module__summary___Krn7Y","timetablesessions-field":"events-registration-client-styles-___regform-module__timetablesessions-field___t1Ljf","country-dropdown":"events-registration-client-styles-___regform-module__country-dropdown___Hhf-Y","single-choice-dropdown":"events-registration-client-styles-___regform-module__single-choice-dropdown___tzmJ5","dropdown-text":"events-registration-client-styles-___regform-module__dropdown-text___GB4OB",caption:"events-registration-client-styles-___regform-module__caption___u54ZN",labels:"events-registration-client-styles-___regform-module__labels___Zy8f7","single-choice-radio-group":"events-registration-client-styles-___regform-module__single-choice-radio-group___E9qIt",description:"events-registration-client-styles-___regform-module__description___abkAU",editable:"events-registration-client-styles-___regform-module__editable___ZHQMz","sortable-handle":"events-registration-client-styles-___regform-module__sortable-handle___yz1-x","header-wrapper":"events-registration-client-styles-___regform-module__header-wrapper___U6gJN","section-sortable-handle":"events-registration-client-styles-___regform-module__section-sortable-handle___ABMeH","manager-only":"events-registration-client-styles-___regform-module__manager-only___PQwvG","section-actions":"events-registration-client-styles-___regform-module__section-actions___p3bRe","dropdown-menu":"events-registration-client-styles-___regform-module__dropdown-menu___9uq+D","dropdown-item":"events-registration-client-styles-___regform-module__dropdown-item___chpZW"}};function An(e){let{title:t,description:i,isManagerOnly:a,items:r,sortHandle:s,itemComponent:l,itemProps:d,setupMode:c,setupActions:m}=e;const u=r.filter((e=>e.isEnabled)),_=c?r.filter((e=>!e.isEnabled)):[],p=n.createElement(st.A,{content:o.Translate.string("This section is only visible to managers."),trigger:n.createElement("i",{className:"icon-user-reading",style:{marginRight:5}})});return n.createElement("div",{className:"regform-section "+(0,gt.A)(a?"manager-only":null,qn,{autoResolveMultipleImports:!0,handleMissingStyleName:"throw"})},n.createElement("div",{className:"i-box-header"},s,n.createElement("div",{className:"events-registration-client-styles-___regform-module__header-wrapper___U6gJN"},n.createElement("div",{className:"i-box-title"},a?p:null,t),n.createElement("div",{className:"i-box-description"},n.createElement(yt.Markdown,null,i))),m&&n.createElement("div",{className:"i-box-buttons events-registration-client-styles-___regform-module__section-actions___p3bRe"},m)),n.createElement(ft.A,{as:"div",className:"i-box-content"},u.map(((e,t)=>n.createElement(l,(0,T.A)({key:e.id,index:t,setupMode:c},d,e)))),_.length>0&&n.createElement(n.Fragment,null,n.createElement("div",{className:"titled-rule section-field-divisor"},n.createElement(o.Translate,null,"Disabled fields")," ",n.createElement("i",{className:"info-helper",title:o.Translate.string("These fields won't be displayed to registrants")})),_.map(((e,t)=>n.createElement(l,(0,T.A)({key:e.id,index:t,setupMode:c},d,e)))))))}An.propTypes={id:l().number.isRequired,title:l().string.isRequired,description:l().string.isRequired,enabled:l().bool.isRequired,position:l().number.isRequired,isManagerOnly:l().bool.isRequired,isPersonalData:l().bool.isRequired,items:l().arrayOf(l().shape(wn.propTypes)).isRequired,sortHandle:l().node,itemComponent:l().elementType,itemProps:l().object,setupMode:l().bool,setupActions:l().node},An.defaultProps={setupMode:!1,setupActions:null,sortHandle:null,itemComponent:wn,itemProps:{}};var Rn=i(94360),On=i.n(Rn),Pn=i(48404);const Cn=["key"],Fn=["key"];function xn(e){let{newItemType:t,inModal:i,onClick:a}=e;const r=yn(),s=t?r[t].title:o.Translate.string("Choose type");let l;l=i?{icon:"dropdown",text:s}:{icon:null,className:"hide-if-locked",trigger:n.createElement("a",{className:"icon-plus",title:o.Translate.string("Add field")})};const d=Object.entries(r).filter((e=>{let[t]=e;return"label"!==t})).map((e=>{let[t,{title:i,icon:n}]=e;return{key:t,value:t,text:i,icon:n}})),c=Math.ceil(d.length/2);return n.createElement(q.A,(0,T.A)({selectOnNavigation:!1,selectOnBlur:!1,value:t},l),n.createElement(q.A.Menu,null,n.createElement(In,{value:"label",text:r.label.title,icon:r.label.icon,centered:!0,onClick:a}),n.createElement(q.A.Divider,{style:{margin:0}}),n.createElement("div",{className:"events-registration-client-styles-___regform-module__dropdown-menu___9uq+D"},n.createElement("div",null,d.slice(0,c).map((e=>{let{key:t}=e,i=(0,w.A)(e,Cn);return n.createElement(In,(0,T.A)({key:t,onClick:a},i))}))),n.createElement("div",null,d.slice(c).map((e=>{let{key:t}=e,i=(0,w.A)(e,Fn);return n.createElement(In,(0,T.A)({key:t,onClick:a},i))}))))))}function In(e){let{value:t,text:i,icon:a,centered:r,onClick:s}=e;return n.createElement("div",{className:"events-registration-client-styles-___regform-module__dropdown-item___chpZW",style:r?{textAlign:"center"}:null,onClick:()=>s(t)},n.createElement("i",{className:`icon-${a}`}),n.createElement("span",null,i))}xn.propTypes={newItemType:l().string,inModal:l().bool.isRequired,onClick:l().func.isRequired},xn.defaultProps={newItemType:null},In.propTypes={value:l().string.isRequired,text:l().string.isRequired,icon:l().string.isRequired,centered:l().bool,onClick:l().func.isRequired},In.defaultProps={centered:!1};const jn=["inputType","fieldIsRequired"];function Sn(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function kn(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Sn(Object(i),!0).forEach((function(t){(0,z.A)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Sn(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const Nn={};function Mn(e){let{id:t,sectionId:i,defaultNewItemType:a,onClose:r}=e;const s=(0,B.useDispatch)(),[l,d]=(0,n.useState)(a),c=null!==t,m=(0,B.useSelector)(Z),_=(0,B.useSelector)((e=>c?Q(e,t):Nn)),{inputType:g,fieldIsRequired:f}=_,y=(0,w.A)(_,jn),b=c?g:l,v=yn(),h=!(b in v),D=v[b]||{},T=D.settingsComponent;let q=y;c||(q=On()(D.settingsFormInitialData)?D.settingsFormInitialData(m):D.settingsFormInitialData,D.hasPrice&&(q=kn(kn({},q||{}),{},{price:0})));return n.createElement(mt.Sz,{key:c?"edit":`new-${l}`,id:"regform-item-settings",onSubmit:async(e,n)=>{const a=(0,u.getValuesForFields)(e,n),l=c?function(e,t){return async(i,n)=>{const a=n(),r=se(a,e),s=oe(a,e)(ye,ge)(de(a)(r,e)),l={fieldData:t},o=await(0,Y.HX)((()=>p.indicoAxios.patch(s,l)))(i);return o.error||i(Ye(e,o.data.view_data)),(0,H.camelizeKeys)(o)}}(t,a):Je(i,b,a),o=await s(l);if(o.error)return o.error;r()},onClose:r,initialValues:q,initialValuesEqual:Pt(),unloadPrompt:!0,size:D.settingsModalSize||"tiny",decorators:D.settingsFormDecorators?D.settingsFormDecorators:void 0,validate:D.settingsFormValidator,header:c?n.createElement(o.Translate,null,'Configure field "',n.createElement(o.Param,{name:"section",value:y.title}),'"'):n.createElement(n.Fragment,null,n.createElement(o.Translate,null,"Add new field"),n.createElement("div",{style:{float:"right"}},n.createElement(nt.FormSpy,{subscription:{dirty:!0}},(e=>{let{dirty:t}=e;return n.createElement(xn,{newItemType:l,inModal:!0,onClick:e=>((e,t)=>{l&&e&&!confirm("Changing the type will reset this form.")||d(t)})(t,e)})}))))},c||l?n.createElement(n.Fragment,null,n.createElement(u.FinalInput,{name:"title",label:o.Translate.string("Title"),required:!0,autoFocus:!0}),n.createElement(u.FinalTextArea,{name:"description",label:o.Translate.string("Description"),description:n.createElement(o.Translate,null,"You can use Markdown or basic HTML formatting tags.")}),D.hasPrice&&n.createElement(u.FinalInput,{name:"price",type:"number",min:"0",step:"0.01",validate:u.validators.min(0),parse:e=>u.parsers.number(e,!0,0),label:o.Translate.string("Price")}),!D.noRequired&&n.createElement(u.FinalCheckbox,{name:"isRequired",label:o.Translate.string("Required field"),disabled:f}),T&&n.createElement(T,y),(0,bt.renderPluginComponents)(`regform-${b}-field-settings`,kn({},y)),!D.noRetentionPeriod&&!f&&n.createElement(Pn.Fieldset,{legend:o.Translate.string("Privacy"),compact:!0},n.createElement(u.FinalInput,{name:"retentionPeriod",type:"number",placeholder:o.Translate.string("Permanent"),step:"1",min:"1",max:"521",validate:u.validators.optional(u.validators.range(1,521)),label:o.Translate.string("Retention period (weeks)"),description:o.Translate.string("Specify how long user-provided data for this field will be preserved in the database.")}),n.createElement(nt.FormSpy,{subscription:{values:!0}},(e=>{let{values:t}=e;return(t.price||t.isPriceSet)&&t.retentionPeriod?n.createElement(vi.A,{visible:!0,icon:!0,warning:!0},n.createElement(E.A,{name:"warning"}),n.createElement(vi.A.Content,null,n.createElement(o.Translate,null,"Please note that invoice information will be lost as well once a field's retention period expires."))):""}))),h&&n.createElement(vi.A,{visible:!0,warning:!0},"Unknown input type: ",b,".",n.createElement("br",null),"Saving changes will most likely fail or result in some settings being lost.")):n.createElement(vi.A,{info:!0},n.createElement(o.Translate,null,"Please choose a field type.")))}function Ln(e){let{id:t,isPersonalData:i}=e;const[a,r]=(0,n.useState)(!1),[s,l]=(0,n.useState)(!1),[d,c]=(0,n.useState)(null),m=(0,B.useDispatch)();return n.createElement(n.Fragment,null,!i&&n.createElement("a",{className:"icon-disable hide-if-locked",title:o.Translate.string("Disable section"),onClick:()=>{var e;m((e=t,async(t,i)=>{const n=i(),a=de(n)(e),r=Ee(me(me({},a),{},{enable:"false"})),s=await Ne((()=>p.indicoAxios.post(r)))(t);s.error||(t(Ue(e,!1)),t(Me(s.data.positions)))}))}}),n.createElement("a",{className:"icon-settings hide-if-locked",title:o.Translate.string("Configure section"),onClick:()=>{r(!0)}}),n.createElement(xn,{inModal:!1,onClick:e=>{c(e),l(!0)}}),a&&n.createElement(ut,{id:t,onClose:()=>r(!1)}),s&&n.createElement(Mn,{sectionId:t,defaultNewItemType:d,onClose:()=>l(!1)}))}function Un(e){let{id:t,title:i,fieldIsRequired:a,fieldIsPersonalData:r,isEnabled:s}=e;const l=(0,B.useDispatch)(),[d,c]=(0,n.useState)(!1),[m,u]=(0,n.useState)(!1);return n.createElement(n.Fragment,null,!r&&n.createElement("a",{className:"icon-remove hide-if-locked",title:o.Translate.string("Remove field"),onClick:()=>{u(!0)}}),!s&&n.createElement("a",{className:"icon-checkmark hide-if-locked",title:o.Translate.string("Enable field"),onClick:()=>{var e;l((e=t,async(t,i)=>{const n=i(),a=se(n,e),r=oe(n,e)(Te,De)(me(me({},de(n)(a,e)),{},{enable:"true"})),s=await Ne((()=>p.indicoAxios.post(r)))(t);s.error||(t(Ye(e,s.data.view_data)),t(Me(s.data.positions)))}))}}),!a&&s&&n.createElement("a",{className:"icon-disable hide-if-locked",title:o.Translate.string("Disable field"),onClick:()=>{var e;l((e=t,async(t,i)=>{const n=i(),a=se(n,e),r=oe(n,e)(Te,De)(me(me({},de(n)(a,e)),{},{enable:"false"})),s=await Ne((()=>p.indicoAxios.post(r)))(t);s.error||(t(Ye(e,s.data.view_data)),t(Me(s.data.positions)))}))}}),n.createElement("a",{className:"icon-settings hide-if-locked",title:o.Translate.string("Configure field"),onClick:()=>{c(!0)}}),d&&n.createElement(Mn,{id:t,onClose:()=>c(!1)}),n.createElement(M.RequestConfirmDelete,{requestFunc:()=>l(Ve(t)),onClose:()=>u(!1),open:m,persistent:!0},n.createElement(o.Translate,null,'Are you sure you want to delete the field "',n.createElement(o.Param,{name:"field",value:i,wrapper:n.createElement("strong",null)}),'"?')))}Mn.propTypes={id:l().number,sectionId:l().number,defaultNewItemType:l().string,onClose:l().func.isRequired},Mn.defaultProps={id:null,sectionId:null,defaultNewItemType:null},Ln.propTypes={id:l().number.isRequired,isPersonalData:l().bool.isRequired},Un.propTypes={id:l().number.isRequired,title:l().string.isRequired,fieldIsRequired:l().bool.isRequired,fieldIsPersonalData:l().bool.isRequired,isEnabled:l().bool.isRequired};const Bn=["index","sectionId"];function Yn(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function $n(e){let{index:t,sectionId:i}=e,a=(0,w.A)(e,Bn);const{id:r,isEnabled:s}=a,l=(0,B.useDispatch)(),[o,d,c]=(0,at.f)({type:`regform-item@${i}`,id:r,index:t,separateHandle:!0,active:s,moveItem:(e,t)=>{l(Be(i,e,t))},onDrop:e=>{e.index!==e.originalIndex&&l(function(e,t,i,n){return async(a,r)=>{const s=r(),l=oe(s,t)(he,be)(de(s)(e,t));(await Ne((()=>p.indicoAxios.post(l,{endPos:i})))(a)).error&&a(Be(e,i,n))}}(i,e.id,e.index,e.originalIndex))}});return n.createElement("div",{ref:d,style:c},n.createElement(wn,(0,T.A)({sortHandle:n.createElement("div",{className:"hide-if-locked events-registration-client-styles-___regform-module__sortable-handle___yz1-x",ref:o}),setupActions:n.createElement(Un,a)},a)))}const zn=pt()(wn.propTypes,"inputType","isEnabled",...Object.keys(Un.propTypes));$n.propTypes=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Yn(Object(i),!0).forEach((function(t){(0,z.A)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Yn(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({sectionId:l().number.isRequired,index:l().number.isRequired},zn),$n.defaultProps=pt()(wn.defaultProps,Object.keys(zn));const Hn=["index"];function Vn(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Jn(e){let{index:t}=e,i=(0,w.A)(e,Hn);const{id:a}=i,r=(0,B.useDispatch)(),[s,l,o]=(0,at.f)({type:"regform-section",id:a,index:t,separateHandle:!0,moveItem:(e,t)=>{r(Le(e,t))},onDrop:e=>{var t,i,n;e.index!==e.originalIndex&&r((t=e.id,i=e.index,n=e.originalIndex,async(e,a)=>{const r=a(),s=ve(de(r)(t));(await Ne((()=>p.indicoAxios.post(s,{endPos:i})))(e)).error&&e(Le(i,n))}))}});return n.createElement("div",{ref:l,style:o},n.createElement(at.S,{accept:`regform-item@${a}`},n.createElement(An,(0,T.A)({sortHandle:n.createElement("div",{className:"hide-if-locked events-registration-client-styles-___regform-module__section-sortable-handle___ABMeH",ref:s}),setupActions:n.createElement(Ln,i),itemComponent:$n,itemProps:{sectionId:a}},i))))}const Gn=pt()(An.propTypes,"id");function Zn(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Kn(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Zn(Object(i),!0).forEach((function(t){(0,z.A)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Zn(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Wn(){const e=(0,B.useSelector)(ie),t=(0,B.useSelector)(ae),i=(0,B.useSelector)(W),a=(0,B.useSelector)(ne),[r,s]=(0,n.useState)(!1),[l,m]=(0,n.useState)(!1),u=Object.fromEntries(Object.entries(i).map((e=>{let[,{htmlName:t,defaultValue:i}]=e;return[t,i]})));return n.createElement(d.A.Dimmable,{dimmed:a},n.createElement(tt.Q,{backend:it.t2},n.createElement("div",{className:"toolbar events-registration-client-styles-___regform-module__setup-toolbar___tu1Kv"},n.createElement(M.IButton,{icon:"plus",onClick:()=>m(!0)},n.createElement(o.Translate,null,"Add section")),t.length>0&&n.createElement(M.IButton,{onClick:()=>s(!0)},n.createElement(o.Translate,null,"Disabled sections"))),n.createElement(nt.Form,{initialValues:u,subscription:{initialValues:!0},onSubmit:()=>{}},(t=>{const i=e.map((e=>Kn(Kn({},e),{},{items:e.items.filter((e=>e.htmlName in t.initialValues))})));return n.createElement(at.S,{accept:"regform-section",className:"regform-section-list"},i.map(((e,t)=>n.createElement(Jn,(0,T.A)({key:e.id,index:t},e,{setupMode:!0})))))}))),l&&n.createElement(ut,{onClose:()=>m(!1)}),r&&n.createElement(ct,{onClose:()=>s(!1)}),n.createElement(d.A,{inverted:!0,active:a},n.createElement(c.A,{size:"massive"},n.createElement(o.Translate,null,"Saving..."))))}function Qn(e){const{eventId:t,eventStartDate:i,eventEndDate:r,regformId:s,currency:l,hasPredefinedAffiliations:o,formData:d}=e.dataset,c={staticData:{eventId:parseInt(t,10),regformId:parseInt(s,10),hasPredefinedAffiliations:JSON.parse(o),eventStartDate:i,eventEndDate:r,currency:l}},m=(0,Y.Ay)("regform-setup",et,c);var u;m.dispatch((u=JSON.parse(d),{type:Ae,items:u.items,sections:u.sections})),a.render(n.createElement(B.Provider,{store:m},n.createElement(Wn,null)),e)}Jn.propTypes=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Vn(Object(i),!0).forEach((function(t){(0,z.A)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Vn(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({index:l().number.isRequired},Gn);const Xn="Set form data";const ea={items:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===Xn?t.items:e},sections:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===Xn?t.sections:e}},ta=r.Ay.bind(null,{endpoint:"events.display_privacy",rules:[{args:["event_id"],converters:{event_id:"IntegerConverter"},defaults:{},trace:[{data:"|",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"privacy",isDynamic:!1}]}]},"/");function ia(e){let{url:t}=e;const i=n.createElement("label",null,n.createElement(o.Translate,null,"I have read and agree to the"," ",n.createElement(o.Param,{name:"url",wrapper:n.createElement("a",{href:t,target:"_blank",rel:"noreferrer"})},"Privacy policy")));return n.createElement(vi.A,{info:!0,style:{marginTop:25}},n.createElement(vi.A.Header,null,n.createElement(o.Translate,null,"Privacy policy")),n.createElement(ft.A,{as:"div",style:{marginTop:10}},n.createElement(u.FinalCheckbox,{required:!0,label:i,name:"agreed_to_privacy_policy",toggle:!0})))}function na(e){let{isUpdateMode:t}=e;return n.createElement(vi.A,{info:!0,style:{marginTop:25}},n.createElement(vi.A.Header,null,n.createElement(o.Translate,null,"Management Options")),n.createElement("div",null,n.createElement(u.FinalCheckbox,{style:{marginTop:10},label:o.Translate.string("Send an email notification to the user"),name:"notify_user",toggle:!0}),!t&&n.createElement(u.FinalCheckbox,{style:{marginTop:10},label:o.Translate.string("Ignore field requirements for custom fields"),name:"override_required",toggle:!0})))}function aa(e){let{publishToParticipants:t,publishToPublic:i}=e;const a="show_all"===t&&"show_all"===i;return n.createElement(vi.A,{info:!a,warning:a,style:{marginTop:25}},n.createElement(vi.A.Header,null,n.createElement(o.Translate,null,"Participant list")),("show_with_consent"===t||"show_with_consent"===i)&&n.createElement("p",null,n.createElement(o.Translate,null,"Specify whether you consent to being included in the event's list of participants")),n.createElement(ft.A,{as:"div"},n.createElement(O,{name:"consent_to_publish",publishToParticipants:t,publishToPublic:i,useFinalForms:!0})))}function ra(){const e=(0,B.useSelector)(ie),{eventId:t,submitUrl:i,registrationData:a,initialValues:r,captchaRequired:s,captchaSettings:l,policyAgreementRequired:d}=(0,B.useSelector)(Z),c=(0,B.useSelector)(vt),m=(0,B.useSelector)(Dt),_=(0,B.useSelector)(Et),g=(0,B.useSelector)(wt),f=(0,B.useSelector)(qt),y=!_&&"hide_all"!==g;return n.createElement(nt.Form,{onSubmit:async(e,t)=>{let n;e=We()(e,"agreed_to_privacy_policy");const a=c?(0,u.getChangedValues)(e,t,["notify_user"]):e;try{n=await p.indicoAxios.post(i,a)}catch(e){return(0,u.handleSubmitError)(e)}n.data.redirect&&(location.href=n.data.redirect,await new Promise((()=>{})))},initialValues:c?a:r,initialValuesEqual:Pt(),subscription:{},decorators:(0,bt.getPluginObjects)("regformFormDecorators")},(i=>n.createElement("form",{onSubmit:i.handleSubmit},(0,bt.renderPluginComponents)("regformBeforeSections"),e.map((e=>n.createElement(An,(0,T.A)({key:e.id},e)))),(0,bt.renderPluginComponents)("regformAfterSections"),n.createElement("div",null,_&&n.createElement(na,{isUpdateMode:c}),y&&n.createElement(aa,{publishToParticipants:g,publishToPublic:f}),s&&n.createElement(M.Captcha,{settings:l}),!_&&!c&&d&&n.createElement(ia,{url:ta({event_id:t})}),n.createElement(u.FinalSubmitButton,{disabledUntilChange:!1,disabledIfInvalid:!1,label:c?o.Translate.string("Modify"):m?o.Translate.string("Apply"):o.Translate.string("Register"),style:{marginTop:20,textAlign:"right"}})))))}ia.propTypes={url:l().string.isRequired},na.propTypes={isUpdateMode:l().bool.isRequired},aa.propTypes={publishToParticipants:l().oneOf(["hide_all","show_with_consent","show_all"]).isRequired,publishToPublic:l().oneOf(["hide_all","show_with_consent","show_all"]).isRequired};const sa=["eventId","regformId","currency","management","paid","moderated","submitUrl","formData","initialValues","registrationData","registrationUuid","fileData","publishToParticipants","publishToPublic","consentToPublish","policyAgreementRequired","captchaRequired","captchaSettings"];function la(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function oa(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?la(Object(i),!0).forEach((function(t){(0,z.A)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):la(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function da(e){const t=e.dataset,{eventId:i,regformId:r,currency:s,management:l,paid:o,moderated:d=!1,submitUrl:c,formData:m,initialValues:u=null,registrationData:_=null,registrationUuid:p=null,fileData:g=null,publishToParticipants:f,publishToPublic:y,consentToPublish:b=null,policyAgreementRequired:v,captchaRequired:h=!1,captchaSettings:D=null}=t,E=(0,w.A)(t,sa),T={staticData:{eventId:parseInt(i,10),regformId:parseInt(r,10),management:JSON.parse(l),paid:!!o&&JSON.parse(o),moderated:JSON.parse(d),initialValues:JSON.parse(u),submitUrl:c,registrationData:_?oa(oa({},JSON.parse(_)),{},{consent_to_publish:b}):{},registrationUuid:p,fileData:g?JSON.parse(g):{},currency:s,publishToParticipants:f,publishToPublic:y,policyAgreementRequired:JSON.parse(v),captchaRequired:JSON.parse(h),captchaSettings:JSON.parse(D),extraData:E}},q=(0,Y.Ay)("regform-submission",ea,T);var A;q.dispatch((A=JSON.parse(m),{type:Xn,items:A.items,sections:A.sections})),a.render(n.createElement(B.Provider,{store:q},n.createElement(ra,null)),e)}!function(e){function t(){const e=document.getElementById("registration-detail-registration-tags-assign");if(e){const t=JSON.parse(e.dataset.assignedTags),i=JSON.parse(e.dataset.allTags),{eventId:r,regformId:s,registrationId:l}=e.dataset;a.render(n.createElement(U,{eventId:parseInt(r,10),regformId:parseInt(s,10),registrationId:parseInt(l,10),assignedTags:t,allTags:i}),e)}}function i(){const e=document.getElementById("registration-summary-consent-to-publish");if(e){const{locator:t,publishToParticipants:i,publishToPublic:r,initialConsentToPublish:s}=e.dataset;a.render(n.createElement(C,{locator:JSON.parse(t),publishToParticipants:i,publishToPublic:r,initialConsentToPublish:s}),e)}}$(document).ready((function(){$(".js-regform-schedule-dialog").on("click",(function(e){e.preventDefault(),ajaxDialog({url:$(this).data("href"),title:$(this).data("title"),onClose(e){e&&location.reload()}})})),$(".js-check-conditions").on("click",(function(e){const t=$("#conditions-accepted");if(t.length&&!t.prop("checked")){const t="Please, confirm that you have read and accepted the Terms and Conditions before proceeding.";alertPopup($T.gettext(t),$T.gettext("Terms and Conditions")),e.preventDefault()}})),$(".js-highlight-payment").on("click",(function(){$("#payment-summary").effect("highlight",800)}))})),$(window).scroll((function(){IndicoUI.Effect.followScroll()})),e.setupRegistrationFormListPage=function(){$("#payment-disabled-notice").on("indico:confirmed",".js-enable-payments",(function(e){e.preventDefault();const t=$(this);$.ajax({url:t.data("href"),method:t.data("method"),complete:IndicoUI.Dialogs.Util.progress(),error:handleAjaxError,success(e){$("#payment-disabled-notice").remove(),$("#event-side-menu").html(e.event_menu)}})}))},document.addEventListener("DOMContentLoaded",(()=>{t(),$("#registration-details").parent().on("indico:htmlUpdated",t)})),document.addEventListener("DOMContentLoaded",(()=>{i(),$("#registration-info").parent().on("indico:htmlUpdated",i)})),document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("registration-form-setup-container");e&&Qn(e);const t=document.getElementById("registration-form-submission-container");t&&da(t)}))}(window)},55697:(e,t,i)=>{var n=i(42981),a=i(83234),r=i(43247);e.exports=function(e,t,i){var s=e.length;if(s<2)return s?r(e[0]):[];for(var l=-1,o=Array(s);++l<s;)for(var d=e[l],c=-1;++c<s;)c!=l&&(o[l]=n(o[l]||d,e[c],t,i));return r(a(o,1),t,i)}},61910:(e,t,i)=>{var n=i(42981),a=i(83234),r=i(94207),s=i(75580),l=i(95919),o=i(19804),d=s((function(e,t){var i=o(t);return l(i)&&(i=void 0),l(e)?n(e,a(t,1,l,!0),r(i,2)):[]}));e.exports=d},16571:(e,t,i)=>{var n=i(40836),a=i(75580),r=i(55697),s=i(95919),l=a((function(e){return r(n(e,s))}));e.exports=l}},e=>{e.O(0,[4644,4394,2076],(()=>{return t=92130,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=module_events.registration.a3915954.bundle.js.map